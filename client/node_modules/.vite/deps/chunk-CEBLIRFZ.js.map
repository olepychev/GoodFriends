{
  "version": 3,
  "sources": ["../../@egjs/agent/src/utils.ts", "../../@egjs/agent/src/presets.ts", "../../@egjs/agent/src/userAgent.ts", "../../@egjs/agent/src/userAgentData.ts", "../../@egjs/agent/src/agent.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/core/utils.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/dom/utils.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/reactive/const.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/reactive/Observer.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/reactive/utils.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/reactive/Reactive.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/reactive/ReactiveSubscribe.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/reactive/inlineReactive.ts", "../../@egjs/axes/node_modules/@cfcs/core/src/reactive/adaptReactive.ts", "../../@egjs/axes/src/browser.ts", "../../@egjs/axes/src/const.ts", "../../@egjs/axes/src/utils.ts", "../../@egjs/axes/src/EventManager.ts", "../../@egjs/axes/src/InterruptManager.ts", "../../@egjs/axes/src/Coordinate.ts", "../../@egjs/axes/src/AxisManager.ts", "../../@egjs/axes/src/eventInput/EventInput.ts", "../../@egjs/axes/src/eventInput/MouseEventInput.ts", "../../@egjs/axes/src/eventInput/TouchEventInput.ts", "../../@egjs/axes/src/eventInput/PointerEventInput.ts", "../../@egjs/axes/src/eventInput/TouchMouseEventInput.ts", "../../@egjs/axes/src/inputType/InputType.ts", "../../@egjs/axes/src/InputObserver.ts", "../../@egjs/axes/src/animation/AnimationManager.ts", "../../@egjs/axes/src/animation/EasingManager.ts", "../../@egjs/axes/src/Axes.ts", "../../@egjs/axes/src/inputType/PanInput.ts", "../../@egjs/axes/src/inputType/RotatePanInput.ts", "../../@egjs/axes/src/inputType/PinchInput.ts", "../../@egjs/axes/src/inputType/WheelInput.ts", "../../@egjs/axes/src/inputType/MoveKeyInput.ts", "../../@egjs/axes/src/reactive.ts", "../../@egjs/axes/src/index.ts", "../../@egjs/conveyer/src/browser.ts", "../../@egjs/conveyer/src/utils.ts", "../../@egjs/conveyer/src/Conveyer.ts", "../../@egjs/conveyer/src/consts.ts", "../../@egjs/conveyer/src/reactive.ts", "../../@egjs/conveyer/src/index.ts"],
  "sourcesContent": ["import { PresetInfo, PresetResult, NavigatorUABrandVersion } from \"./types\";\n\nexport function some<T>(arr: T[], callback: (value: T, index: number) => any): boolean {\n    const length = arr.length;\n\n    for (let i = 0; i < length; ++i) {\n        if (callback(arr[i], i)) {\n            return true;\n        }\n    }\n\n    return false;\n}\nexport function find<T>(arr: T[], callback: (value: T, index: number) => any): T | null {\n    const length = arr.length;\n\n    for (let i = 0; i < length; ++i) {\n        if (callback(arr[i], i)) {\n            return arr[i];\n        }\n    }\n    return null;\n}\nexport function getUserAgentString(agent?: string): string {\n    let userAgent = agent;\n    if (typeof userAgent === \"undefined\") {\n        if (typeof navigator === \"undefined\" || !navigator) {\n            return \"\";\n        }\n\n        userAgent = navigator.userAgent || \"\";\n    }\n    return userAgent!.toLowerCase();\n}\nexport function execRegExp(pattern: string, text: string): RegExpExecArray | null {\n    try {\n        return new RegExp(pattern, \"g\").exec(text);\n    } catch (e) {\n        return null;\n    }\n}\nexport function hasUserAgentData(): boolean {\n    if (typeof navigator === \"undefined\" || !navigator || !navigator.userAgentData) {\n        return false;\n    }\n    const userAgentData = navigator.userAgentData;\n    const brands = (userAgentData.brands || userAgentData.uaList);\n\n    return !!(brands && brands.length);\n}\nexport function findVersion(versionTest: string, userAgent: string): string {\n    const result = execRegExp(`(${versionTest})((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))`, userAgent);\n\n    return result ? result[3] : \"\";\n}\nexport function convertVersion(text: string): string {\n    return text.replace(/_/g, \".\");\n}\nexport function findPreset(presets: PresetInfo[], userAgent: string): PresetResult {\n    let userPreset: PresetInfo | null = null;\n    let version = \"-1\";\n\n    some(presets, preset => {\n        const result = execRegExp(`(${preset.test})((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))?`, userAgent);\n\n        if (!result || preset.brand) {\n            return false;\n        }\n        userPreset = preset;\n        version = result[3] || \"-1\";\n\n        if (preset.versionAlias) {\n            version = preset.versionAlias;\n        } else if (preset.versionTest) {\n            version = findVersion(preset.versionTest.toLowerCase(), userAgent) || version;\n        }\n        version = convertVersion(version);\n        return true;\n    });\n\n    return {\n        preset: userPreset,\n        version,\n    };\n}\nexport function findPresetBrand(presets: PresetInfo[], brands: NavigatorUABrandVersion[]): NavigatorUABrandVersion {\n    const brandInfo = {\n        brand: \"\",\n        version: \"-1\",\n    };\n    some(presets, preset => {\n        const result = findBrand(brands, preset);\n\n        if (!result) {\n            return false;\n        }\n\n        brandInfo.brand = preset.id;\n        brandInfo.version = preset.versionAlias || result.version;\n\n        return brandInfo.version !== \"-1\";\n    });\n\n    return brandInfo;\n}\nexport function findBrand(brands: NavigatorUABrandVersion[], preset: PresetInfo): NavigatorUABrandVersion | null {\n    return find(brands, ({ brand }) => {\n        return execRegExp(`${preset.test}`, brand.toLowerCase());\n    });\n}\n", "import { PresetInfo } from \"./types\";\n\nexport const BROWSER_PRESETS: PresetInfo[] = [\n    {\n        test: \"phantomjs\",\n        id: \"phantomjs\",\n    },\n    {\n        test: \"whale\",\n        id: \"whale\",\n    }, {\n        test: \"edgios|edge|edg\",\n        id: \"edge\",\n    },\n    {\n        test: \"msie|trident|windows phone\",\n        id: \"ie\",\n        versionTest: \"iemobile|msie|rv\",\n    },\n    {\n        test: \"miuibrowser\",\n        id: \"miui browser\",\n    },\n    {\n        test: \"samsungbrowser\",\n        id: \"samsung internet\",\n    },\n    {\n        test: \"samsung\",\n        id: \"samsung internet\",\n        versionTest: \"version\",\n    },\n    {\n        test: \"chrome|crios\",\n        id: \"chrome\",\n    },\n    {\n        test: \"firefox|fxios\",\n        id: \"firefox\",\n    },\n    {\n        test: \"android\",\n        id: \"android browser\",\n        versionTest: \"version\",\n    },\n    {\n        test: \"safari|iphone|ipad|ipod\",\n        id: \"safari\",\n        versionTest: \"version\",\n    },\n];\n\n// chromium's engine(blink) is based on applewebkit 537.36.\nexport const CHROMIUM_PRESETS: PresetInfo[] = [\n    {\n        test: \"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\\\schrome)\",\n        id: \"chrome\",\n        versionTest: \"chrome\",\n    },\n    {\n        test: \"chromium\",\n        id: \"chrome\",\n    },\n    {\n        test: \"whale\",\n        id: \"chrome\",\n        versionAlias: \"-1\",\n        brand: true,\n    },\n];\nexport const WEBKIT_PRESETS: PresetInfo[] = [\n    {\n        test: \"applewebkit\",\n        id: \"webkit\",\n        versionTest: \"applewebkit|safari\",\n    },\n];\nexport const WEBVIEW_PRESETS: PresetInfo[] = [\n    {\n        test: \"(?=(iphone|ipad))(?!(.*version))\",\n        id: \"webview\",\n    },\n    {\n        test: \"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))\",\n        id: \"webview\",\n    },\n    {\n        // test webview\n        test: \"webview\",\n        id: \"webview\",\n    },\n];\nexport const OS_PRESETS: PresetInfo[] = [\n    {\n        test: \"windows phone\",\n        id: \"windows phone\",\n    },\n    {\n        test: \"windows 2000\",\n        id: \"window\",\n        versionAlias: \"5.0\",\n    },\n    {\n        test: \"windows nt\",\n        id: \"window\",\n    },\n    {\n        test: \"win32|windows\",\n        id: \"window\",\n    },\n    {\n        test: \"iphone|ipad|ipod\",\n        id: \"ios\",\n        versionTest: \"iphone os|cpu os\",\n    },\n    {\n        test: \"macos|macintel|mac os x\",\n        id: \"mac\",\n    },\n    {\n        test: \"android|linux armv81\",\n        id: \"android\",\n    },\n    {\n        test: \"tizen\",\n        id: \"tizen\",\n    },\n    {\n        test: \"webos|web0s\",\n        id: \"webos\",\n    },\n    // {\n    //     test: \"linux|ubuntu|debian\",\n    //     id: \"linux\",\n    //     versionAlias: \"-1\",\n    // },\n];\n", "import { AgentInfo } from \"./types\";\nimport { getUserAgentString, findPreset } from \"./utils\";\nimport { WEBVIEW_PRESETS, CHROMIUM_PRESETS, BROWSER_PRESETS, OS_PRESETS, WEBKIT_PRESETS } from \"./presets\";\n\nexport function isWebView(userAgent: string): boolean {\n    return !!findPreset(WEBVIEW_PRESETS, userAgent).preset;\n}\n\nexport function getLegacyAgent(userAgent?: string): AgentInfo {\n    const nextAgent = getUserAgentString(userAgent);\n    const isMobile = !!/mobi/g.exec(nextAgent);\n    const browser = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n        webview: isWebView(nextAgent),\n        chromium: false,\n        chromiumVersion: \"-1\",\n        webkit: false,\n        webkitVersion: \"-1\",\n    };\n    const os = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n    };\n    const {\n        preset: browserPreset,\n        version: browserVersion,\n    } = findPreset(BROWSER_PRESETS, nextAgent);\n\n    const {\n        preset: osPreset,\n        version: osVersion,\n    } = findPreset(OS_PRESETS, nextAgent);\n\n    const chromiumPreset = findPreset(CHROMIUM_PRESETS, nextAgent);\n\n    browser.chromium = !!chromiumPreset.preset;\n    browser.chromiumVersion = chromiumPreset.version;\n    if (!browser.chromium) {\n        const webkitPreset = findPreset(WEBKIT_PRESETS, nextAgent);\n\n        browser.webkit = !!webkitPreset.preset;\n        browser.webkitVersion = webkitPreset.version;\n    }\n\n    if (osPreset) {\n        os.name = osPreset.id;\n        os.version = osVersion;\n        os.majorVersion = parseInt(osVersion, 10);\n    }\n    if (browserPreset) {\n        browser.name = browserPreset.id;\n        browser.version = browserVersion;\n\n        // Early whale bugs\n        if (browser.webview && os.name === \"ios\" && browser.name !== \"safari\") {\n            browser.webview = false;\n        }\n    }\n    browser.majorVersion = parseInt(browser.version, 10);\n\n    return {\n        browser,\n        os,\n        isMobile,\n        isHints: false,\n    };\n}\n", "import { UADataValues, AgentInfo, AgentBrowserInfo, AgentOSInfo } from \"./types\";\nimport { some, find, findBrand, convertVersion, findPresetBrand, getUserAgentString } from \"./utils\";\nimport { BROWSER_PRESETS, OS_PRESETS, CHROMIUM_PRESETS, WEBKIT_PRESETS, WEBVIEW_PRESETS } from \"./presets\";\nimport { isWebView } from \"./userAgent\";\n\nexport function getClientHintsAgent(osData?: UADataValues): AgentInfo {\n    const userAgentData = navigator.userAgentData;\n    const brands = [...(userAgentData.uaList || userAgentData.brands)!];\n    const fullVersionList = osData && osData.fullVersionList;\n    const isMobile = userAgentData.mobile || false;\n    const firstBrand = brands[0];\n    const platform = (osData && osData.platform || userAgentData.platform || navigator.platform).toLowerCase();\n    const browser: AgentBrowserInfo = {\n        name: firstBrand.brand,\n        version: firstBrand.version,\n        majorVersion: -1,\n        webkit: false,\n        webkitVersion: \"-1\",\n        chromium: false,\n        chromiumVersion: \"-1\",\n        webview: !!findPresetBrand(WEBVIEW_PRESETS, brands).brand || isWebView(getUserAgentString()),\n    };\n    const os: AgentOSInfo = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n    };\n    browser.webkit = !browser.chromium && some(WEBKIT_PRESETS, preset => findBrand(brands, preset));\n\n    const chromiumBrand = findPresetBrand(CHROMIUM_PRESETS, brands);\n\n    browser.chromium = !!chromiumBrand.brand;\n    browser.chromiumVersion = chromiumBrand.version;\n    if (!browser.chromium) {\n        const webkitBrand = findPresetBrand(WEBKIT_PRESETS, brands);\n\n        browser.webkit = !!webkitBrand.brand;\n        browser.webkitVersion = webkitBrand.version;\n    }\n\n    const platfomResult = find(OS_PRESETS, preset => {\n        return new RegExp(`${preset.test}`, \"g\").exec(platform);\n    });\n    os.name = platfomResult ? platfomResult.id : \"\";\n\n    if (osData) {\n        os.version = osData.platformVersion;\n    }\n    if (fullVersionList && fullVersionList.length) {\n        const browserBrandByFullVersionList = findPresetBrand(BROWSER_PRESETS, fullVersionList);\n\n        browser.name = browserBrandByFullVersionList.brand || browser.name;\n        browser.version = browserBrandByFullVersionList.version || browser.version;\n    } else {\n        const browserBrand = findPresetBrand(BROWSER_PRESETS, brands);\n\n        browser.name = browserBrand.brand || browser.name;\n        browser.version = browserBrand.brand && osData ? osData.uaFullVersion : browserBrand.version;\n    }\n    if (browser.webkit) {\n        os.name = isMobile ? \"ios\" : \"mac\";\n    }\n    if (os.name === \"ios\" && browser.webview) {\n        browser.version = \"-1\";\n    }\n\n    os.version = convertVersion(os.version);\n    browser.version = convertVersion(browser.version);\n    os.majorVersion = parseInt(os.version, 10);\n    browser.majorVersion = parseInt(browser.version, 10);\n\n    return {\n        browser,\n        os,\n        isMobile,\n        isHints: true,\n    };\n}\n", "import { AgentInfo } from \"./types\";\nimport { hasUserAgentData } from \"./utils\";\nimport { getClientHintsAgent } from \"./userAgentData\";\nimport { getLegacyAgent } from \"./userAgent\";\n\n/**\n * @namespace eg.agent\n */\n\n/**\n* Extracts accuate browser and operating system information from the user agent string or client hints.\n* @ko 유저 에이전트 문자열 또는 client hints에서 정확한 브라우저와 운영체제 정보를 추출한다.\n* @function eg.agent#getAccurateAgent\n* @param - Callback function to get the accuate agent <ko>정확한 에이전트를 가져오기 위한 callback 함수</ko>\n* @return - get the accuate agent promise. If Promise are not supported, null is returned. <ko> 정확한 에이전트 promise를 가져온다. Promise를 지원 하지 않는 경우, null을 반환한다. </ko>\n* @example\nimport { getAccurateAgent } from \"@egjs/agent\";\n// eg.agent.getAccurateAgent()\ngetAccurateAgent().then(agent => {\n   const { os, browser, isMobile } = agent;\n});\ngetAccurateAgent(agent => {\n    const { os, browser, isMobile } = agent;\n});\n*/\nexport function getAccurateAgent(callback?: (result: AgentInfo) => void): Promise<AgentInfo> | null {\n    if (hasUserAgentData()) {\n        return navigator.userAgentData.getHighEntropyValues([\n            \"architecture\",\n            \"model\",\n            \"platform\",\n            \"platformVersion\",\n            \"uaFullVersion\",\n            \"fullVersionList\",\n        ]).then(info => {\n            const agentInfo = getClientHintsAgent(info);\n\n            callback && callback(agentInfo);\n            return agentInfo;\n        });\n    }\n    callback && callback(agent());\n    if (typeof Promise === \"undefined\" || !Promise) {\n        return null;\n    }\n    return Promise.resolve(agent());\n}\n\n\n\n/**\n * Extracts browser and operating system information from the user agent string.\n * @ko 유저 에이전트 문자열에서 브라우저와 운영체제 정보를 추출한다.\n * @function eg.agent#agent\n * @param - user agent string to parse <ko>파싱할 유저에이전트 문자열</ko>\n * @return - agent Info <ko> 에이전트 정보 </ko>\n * @example\nimport agent from \"@egjs/agent\";\n// eg.agent();\nconst { os, browser, isMobile } = agent();\n */\nfunction agent(userAgent?: string): AgentInfo {\n    if (typeof userAgent === \"undefined\" && hasUserAgentData()) {\n        return getClientHintsAgent();\n    } else {\n        return getLegacyAgent(userAgent);\n    }\n}\nexport { getLegacyAgent };\n\nexport default agent;\n\nexport * from \"./types\";\n", "/**\n * cfcs\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nexport function keys<T extends Record<string, any>>(obj: T): Array<keyof T> {\n  return Object.keys(obj);\n}\n\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]([a-z])/g, (all, letter) => letter.toUpperCase());\n}\n\nexport function isObject(val: any): val is object {\n  return typeof val === \"object\";\n}\nexport function isFunction(val: any): val is Function {\n  return typeof val === \"function\";\n}", "\nexport function withClassMethods(methods: readonly string[]) {\n  return function (prototype: any, memberName: string) {\n    methods.forEach((name: string) => {\n      if (name in prototype) {\n        return;\n      }\n      prototype[name] = function (...args) {\n        const result = this[memberName][name](...args);\n\n        // fix `this` type to return your own `class` instance to the instance using the decorator.\n        if (result === this[memberName]) {\n          return this;\n        } else {\n          return result;\n        }\n      };\n    });\n  };\n}\n", "export const OBSERVERS_PATH = \"__observers__\";\nexport const REACTIVE_PATH = \"__reactive__\";\n", "import Component from \"@egjs/component\";\n\ninterface EmitterEvents<Value> {\n  update: (value: Value) => void;\n}\n\nexport class Observer<Value = any> {\n  private _current: Value;\n  private _emitter = new Component<EmitterEvents<Value>>();\n\n  constructor(value?: Value) {\n    this._current = value as any;\n  }\n  public get current() {\n    return this._current as Value;\n  }\n  public set current(value: Value) {\n    const isUpdate = value !== this._current;\n    this._current = value;\n\n    if (isUpdate) {\n      this._emitter.trigger(\"update\", value);\n    }\n  }\n  public subscribe(callback: (value: Value) => void) {\n    this._emitter.on(\"update\", callback);\n  }\n  public unsubscribe(callback?: (value: Value) => void) {\n    this._emitter.off(\"update\", callback);\n  }\n}\n", "import { OBSERVERS_PATH } from \"./const\";\nimport { Observer } from \"./Observer\";\nimport { ReactiveMethods } from \"./types\";\nimport { Ref } from \"../core\";\n\n\nexport function withReactiveMethods<\n  Instance,\n  Names extends keyof Partial<Instance>,\n  Return extends ReactiveMethods<Instance, Names>\n>(ref: Ref<Instance>, methods?: readonly Names[]): Return {\n  const obj: Record<any, any> = {};\n\n  if (!methods) {\n    return obj;\n  }\n\n  methods.forEach(name => {\n    obj[name] = function (...args: any[]) {\n      const current: any = ref.current || ref.value;\n\n      return current[name](...args);\n    };\n  });\n  return obj as Return;\n}\n\n\nexport function observe<Type>(defaultValue?: Type): Observer<Type> {\n  return new Observer<Type>(defaultValue);\n}\n\nexport function getObservers(instance: any): Record<string, Observer<any>> {\n  if (!instance[OBSERVERS_PATH]) {\n    instance[OBSERVERS_PATH] = {};\n  }\n  return instance[OBSERVERS_PATH];\n}\n\nexport function getObserver(instance: any, name: string, defaultValue?: any): Observer<any> {\n  const observers = getObservers(instance);\n\n  if (!observers[name]) {\n    observers[name] = observe(defaultValue);\n  }\n  return observers[name];\n}\n\nexport function setObserver(instance: any, name: string, observer: Observer<any>) {\n  const observers = getObservers(instance);\n\n  observers[name] = observer;\n}\n\nexport function isObserver(val: any): val is Observer {\n  return val && (\"current\" in val && \"subscribe\" in val && \"unsubscribe\" in val);\n}", "import { getObserver } from \"./utils\";\n\nexport function Reactive(name?: string) {\n    return function (prototype: any, memberName: string) {\n        const publicName = name || memberName;\n\n        Object.defineProperty(prototype, memberName, {\n            get: function () {\n                return getObserver(this, publicName).current;\n            },\n            set: function (value: any) {\n                getObserver(this, publicName, value).current = value;\n            },\n        });\n        if (publicName !== memberName) {\n            Object.defineProperty(prototype, publicName, {\n                get: function () {\n                    return getObserver(this, publicName).current;\n                },\n            });\n        }\n    };\n}\n\n", "import { keys } from \"../core\";\nimport { getObserver, getObservers } from \"./utils\";\n\nexport function injectReactiveSubscribe(object: Record<string, any>, ) {\n    object[\"subscribe\"] = function (name: string, callback: (value: any) => void) {\n        getObserver(this, name).subscribe(callback);\n    };\n    object[\"unsubscribe\"] = function (name?: string, callback?: (value: any) => void) {\n        if (!name) {\n            keys(getObservers(this)).forEach((observerName) => {\n                this.unsubscribe(observerName);\n            });\n            return;\n        }\n        if (!(name in this)) {\n            return;\n        }\n        getObserver(this, name).unsubscribe(callback);\n    };\n}\n\nexport function ReactiveSubscribe(Constructor: any) {\n    const prototype = Constructor.prototype;\n\n    injectReactiveSubscribe(prototype);\n}\n\nexport interface ReactiveSubscribe<Properties extends Record<string, any>> {\n    subscribe<Name extends keyof Properties = keyof Properties>(\n        name: Name, callback: (value: Properties[Name]) => void): void;\n    unsubscribe<Name extends keyof Properties = keyof Properties>(\n        name?: Name, callback?: (value: Properties[Name]) => void): void;\n}", "import { ExtractNever, isFunction, keys } from \"../core\";\nimport { Observer } from \"./Observer\";\nimport { Reactive } from \"./Reactive\";\nimport { injectReactiveSubscribe, ReactiveSubscribe } from \"./ReactiveSubscribe\";\nimport { isObserver, setObserver } from \"./utils\";\n\n\ntype ConvertValue<Object extends Record<string, any>> = {\n    [Key in keyof Object]: Object[Key] extends Observer<infer Type> ? Type : Object[Key];\n}\n\ntype PickObverser<Object extends Record<string, any>> = ExtractNever<{\n    [Key in keyof Object]: Object[Key] extends Observer<infer Type> ? Type : never;\n}>;\n\nexport type ReactiveObject<Object extends Record<string, any>>\n    = ConvertValue<Object> & ReactiveSubscribe<PickObverser<Object>>;\n\nexport function reactive<Object extends Record<string, any>>(\n    setup: Readonly<Object> | (() => Readonly<Object>),\n): ReactiveObject<Object> {\n    const result = isFunction(setup) ? setup() : setup;\n    const reactiveObject: Record<string, any> = {};\n\n    keys(result).forEach((name: any) => {\n        const value = result[name];\n        if (isObserver(value)) {\n            setObserver(reactiveObject, name, value);\n            Reactive(name)(reactiveObject, name);\n        } else {\n            reactiveObject[name] = value;\n        }\n    });\n\n    injectReactiveSubscribe(reactiveObject);\n    return reactiveObject as ReactiveObject<Object>;\n}\n", "import { keys } from \"src/core\";\nimport { Ref } from \"src/core/types\";\nimport { ReactiveAdapter } from \"./ReactiveAdapter\";\nimport { ReactiveSubscribe } from \"./ReactiveSubscribe\";\nimport { ReactiveEventCallback } from \"./types\";\nimport { getObservers, withReactiveMethods } from \"./utils\";\n\nexport function adaptReactive<\n    Instance extends ReactiveSubscribe<Record<string, any>>,\n    State extends Record<string, any> = {},\n    Methods extends keyof Partial<Instance> = any,\n    Data = any,\n    Events extends Record<string, any> = {},\n    >(adapter: ReactiveAdapter<Instance, State, Methods, Data, Events>) {\n\n    function data(): Data {\n        return adapter.data?.() ?? {} as Data;\n    }\n\n    const instanceRef: Ref<Instance> = { current: adapter.created?.(data()) || null };\n    let firstState: State | null = null;\n    \n    return {\n        state(): State {\n            const inst = instanceRef.current;\n\n            if (firstState) {\n                return firstState;\n            }\n            if (adapter.state) {\n                firstState = adapter.state;\n            } else if (inst) {\n                const observers = getObservers(inst);\n\n                firstState = keys(observers).reduce((prev, cur) => {\n                    prev[cur] = observers[cur].current;\n                    return prev;\n                }, {} as any);\n            }\n            return firstState || {} as State;\n        },\n        instance() {\n            return instanceRef.current;\n        },\n        mounted(): void {\n            instanceRef.current = adapter.mounted?.(data()) || instanceRef.current;\n        },\n        init(): void {\n            adapter.init?.(instanceRef.current!, data());\n        },\n        destroy(): void {\n            adapter.destroy?.(instanceRef.current!, data());\n        },\n        methods() {\n            return withReactiveMethods<any, any, any>(instanceRef, adapter.methods);\n        },\n        on(eventName: string, listener: ReactiveEventCallback<any, any>) {\n            adapter.on?.(instanceRef.current!, eventName as never, listener);\n        },\n        off(eventName: string, listener: ReactiveEventCallback<any, any>) {\n            adapter.off?.(instanceRef.current!, eventName as never, listener);\n        },\n    };\n}", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\n/* eslint-disable no-new-func, no-nested-ternary */\n\nlet win: any;\n\nif (typeof window === \"undefined\") {\n  // window is undefined in node.js\n  win = {\n    navigator: {\n      userAgent: \"\",\n    },\n  };\n} else {\n  win = window;\n}\n/* eslint-enable no-new-func, no-nested-ternary */\n\nexport { win as window };\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nexport const DIRECTION_NONE = 1;\nexport const DIRECTION_LEFT = 2;\nexport const DIRECTION_RIGHT = 4;\nexport const DIRECTION_HORIZONTAL = 2 | 4;\nexport const DIRECTION_UP = 8;\nexport const DIRECTION_DOWN = 16;\nexport const DIRECTION_VERTICAL = 8 | 16;\nexport const DIRECTION_ALL = 2 | 4 | 8 | 16;\n\nexport const MOUSE_LEFT = \"left\";\nexport const MOUSE_RIGHT = \"right\";\nexport const MOUSE_MIDDLE = \"middle\";\n\nexport const ANY = \"any\";\nexport const NONE = \"none\";\nexport const SHIFT = \"shift\";\nexport const CTRL = \"ctrl\";\nexport const ALT = \"alt\";\nexport const META = \"meta\";\n\nexport const VELOCITY_INTERVAL = 16;\n\nexport const AXES_METHODS = [\n  \"connect\",\n  \"disconnect\",\n  \"get\",\n  \"setTo\",\n  \"setBy\",\n  \"setOptions\",\n  \"setAxis\",\n  \"stopAnimation\",\n  \"updateAnimation\",\n  \"isBounceArea\",\n] as const;\n\nexport const AXES_EVENTS = [\n  \"hold\",\n  \"release\",\n  \"change\",\n  \"animationStart\",\n  \"animationEnd\",\n  \"finish\",\n] as const;\n\nimport getAgent from \"@egjs/agent\";\n\nimport { window } from \"./browser\";\n\nexport const IOS_EDGE_THRESHOLD = 30;\nexport const IS_IOS_SAFARI =\n  \"ontouchstart\" in window && getAgent().browser.name === \"safari\";\n\nexport const TRANSFORM = (() => {\n  if (typeof document === \"undefined\") {\n    return \"\";\n  }\n  const bodyStyle = (document.head || document.getElementsByTagName(\"head\")[0])\n    .style;\n  const target = [\n    \"transform\",\n    \"webkitTransform\",\n    \"msTransform\",\n    \"mozTransform\",\n  ];\n  for (let i = 0, len = target.length; i < len; i++) {\n    if (target[i] in bodyStyle) {\n      return target[i];\n    }\n  }\n  return \"\";\n})();\n\nexport const PREVENT_DRAG_CSSPROPS = {\n  \"-webkit-user-select\": \"none\", /* Safari */\n  \"-ms-user-select\": \"none\", /* IE 10 and IE 11 */\n  \"-moz-user-select\": \"none\", /* Firefox 2-68 */\n  \"user-select\": \"none\",\n  \"-webkit-user-drag\": \"none\",\n};\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { window } from \"./browser\";\nimport { PREVENT_DRAG_CSSPROPS } from \"./const\";\nimport { Axis, AxisOption } from \"./AxisManager\";\nimport { PanInputOption } from \"./inputType/PanInput\";\nimport { PinchInputOption } from \"./inputType/PinchInput\";\nimport { ObjectInterface } from \"./types\";\nimport {\n  DIRECTION_NONE,\n  DIRECTION_VERTICAL,\n  DIRECTION_HORIZONTAL,\n  DIRECTION_ALL,\n} from \"./const\";\n\ndeclare let jQuery: any;\n\nexport const toArray = (nodes: NodeList): HTMLElement[] => {\n  // const el = Array.prototype.slice.call(nodes);\n  // for IE8\n  const el = [];\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    el.push(nodes[i]);\n  }\n  return el;\n};\n\nexport const $ = (param, multi = false) => {\n  let el;\n  if (typeof param === \"string\") {\n    // String (HTML, Selector)\n    // check if string is HTML tag format\n    const match = param.match(/^<([a-z]+)\\s*([^>]*)>/);\n\n    // creating element\n    if (match) {\n      // HTML\n      const dummy = document.createElement(\"div\");\n\n      dummy.innerHTML = param;\n      el = toArray(dummy.childNodes);\n    } else {\n      // Selector\n      el = toArray(document.querySelectorAll(param));\n    }\n    if (!multi) {\n      el = el.length >= 1 ? el[0] : undefined;\n    }\n  } else if (param === window) {\n    // window\n    el = param;\n  } else if (\"value\" in param || \"current\" in param) {\n    el = param.value! || param.current!;\n  } else if (param.nodeName && (param.nodeType === 1 || param.nodeType === 9)) {\n    // HTMLElement, Document\n    el = param;\n  } else if (\n    (\"jQuery\" in window && param instanceof jQuery) ||\n    param.constructor.prototype.jquery\n  ) {\n    // jQuery\n    el = multi ? param.toArray() : param.get(0);\n  } else if (Array.isArray(param)) {\n    el = param.map((v) => $(v));\n    if (!multi) {\n      el = el.length >= 1 ? el[0] : undefined;\n    }\n  }\n  return el;\n};\n\nlet raf = window.requestAnimationFrame || window.webkitRequestAnimationFrame;\nlet caf = window.cancelAnimationFrame || window.webkitCancelAnimationFrame;\nif (raf && !caf) {\n  const keyInfo = {};\n  const oldraf = raf;\n  raf = (callback: FrameRequestCallback) => {\n    const wrapCallback = (timestamp: number) => {\n      if (keyInfo[key]) {\n        callback(timestamp);\n      }\n    };\n    const key = oldraf(wrapCallback);\n    keyInfo[key] = true;\n    return key;\n  };\n  caf = (key: number) => {\n    delete keyInfo[key];\n  };\n} else if (!(raf && caf)) {\n  raf = (callback: FrameRequestCallback) => {\n    return window.setTimeout(() => {\n      callback(\n        ((window.performance &&\n          window.performance.now &&\n          window.performance.now()) as number) || new Date().getTime()\n      );\n    }, 16);\n  };\n  caf = window.clearTimeout;\n}\n\n/**\n * A polyfill for the window.requestAnimationFrame() method.\n * @see  https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\n * @private\n */\nexport const requestAnimationFrame = (fp) => {\n  return raf(fp);\n};\n/**\n * A polyfill for the window.cancelAnimationFrame() method. It cancels an animation executed through a call to the requestAnimationFrame() method.\n * @param {Number} key −  The ID value returned through a call to the requestAnimationFrame() method. <ko>requestAnimationFrame() 메서드가 반환한 아이디 값</ko>\n * @see  https://developer.mozilla.org/en-US/docs/Web/API/Window/cancelAnimationFrame\n * @private\n */\nexport const cancelAnimationFrame = (key) => {\n  caf(key);\n};\n\nexport const map = <T, U>(\n  obj: ObjectInterface<T>,\n  callback: (value: T, key: string) => U\n): ObjectInterface<U> => {\n  const tranformed: ObjectInterface<U> = {};\n\n  for (const k in obj) {\n    if (k) {\n      tranformed[k] = callback(obj[k], k);\n    }\n  }\n  return tranformed;\n};\n\nexport const filter = <T>(\n  obj: ObjectInterface<T>,\n  callback: (value: T, key: string) => boolean\n): ObjectInterface<T> => {\n  const filtered: ObjectInterface<T> = {};\n\n  for (const k in obj) {\n    if (k && callback(obj[k], k)) {\n      filtered[k] = obj[k];\n    }\n  }\n  return filtered;\n};\nexport const every = <T>(\n  obj: ObjectInterface<T>,\n  callback: (value: T, key: string) => boolean\n) => {\n  for (const k in obj) {\n    if (k && !callback(obj[k], k)) {\n      return false;\n    }\n  }\n  return true;\n};\nexport const equal = (\n  target: ObjectInterface,\n  base: ObjectInterface\n): boolean => {\n  return every(target, (v, k) => v === base[k]);\n};\n\nconst roundNumFunc = {};\n\nexport const roundNumber = (num: number, roundUnit: number) => {\n  // Cache for performance\n  if (!roundNumFunc[roundUnit]) {\n    roundNumFunc[roundUnit] = getRoundFunc(roundUnit);\n  }\n\n  return roundNumFunc[roundUnit](num);\n};\n\nexport const roundNumbers = (\n  num: ObjectInterface<number>,\n  roundUnit: ObjectInterface<number> | number\n): ObjectInterface<number> => {\n  if (!num || !roundUnit) {\n    return num;\n  }\n  return map(num, (value, key) =>\n    roundNumber(\n      value,\n      typeof roundUnit === \"number\" ? roundUnit : roundUnit[key]\n    )\n  );\n};\n\nexport const getDecimalPlace = (val: number): number => {\n  if (!isFinite(val)) {\n    return 0;\n  }\n\n  const v = `${val}`;\n\n  if (v.indexOf(\"e\") >= 0) {\n    // Exponential Format\n    // 1e-10, 1e-12\n    let p = 0;\n    let e = 1;\n\n    while (Math.round(val * e) / e !== val) {\n      e *= 10;\n      p++;\n    }\n\n    return p;\n  }\n\n  // In general, following has performance benefit.\n  // https://jsperf.com/precision-calculation\n  return v.indexOf(\".\") >= 0 ? v.length - v.indexOf(\".\") - 1 : 0;\n};\n\nexport const inversePow = (n: number) => {\n  // replace Math.pow(10, -n) to solve floating point issue.\n  // eg. Math.pow(10, -4) => 0.00009999999999999999\n  return 1 / Math.pow(10, n);\n};\n\nexport const getRoundFunc = (v: number) => {\n  const p = v < 1 ? Math.pow(10, getDecimalPlace(v)) : 1;\n\n  return (n: number) => {\n    if (v === 0) {\n      return 0;\n    }\n\n    return Math.round(Math.round(n / v) * v * p) / p;\n  };\n};\n\nexport const getAngle = (posX: number, posY: number) => {\n  return (Math.atan2(posY, posX) * 180) / Math.PI;\n};\n\nexport const isCssPropsFromAxes = (originalCssProps: {\n  [key: string]: string;\n}) => {\n  let same = true;\n  Object.keys(PREVENT_DRAG_CSSPROPS).forEach((prop) => {\n    if (\n      !originalCssProps ||\n      originalCssProps[prop] !== PREVENT_DRAG_CSSPROPS[prop]\n    ) {\n      same = false;\n    }\n  });\n  return same;\n};\n\nexport const getDirection = (\n  useHorizontal: boolean,\n  useVertical: boolean\n): number => {\n  if (useHorizontal && useVertical) {\n    return DIRECTION_ALL;\n  } else if (useHorizontal) {\n    return DIRECTION_HORIZONTAL;\n  } else if (useVertical) {\n    return DIRECTION_VERTICAL;\n  } else {\n    return DIRECTION_NONE;\n  }\n};\n\nexport const useDirection = (\n  checkType: number,\n  direction: number,\n  userDirection?: number\n): boolean => {\n  if (userDirection) {\n    return !!(\n      direction === DIRECTION_ALL ||\n      (direction & checkType && userDirection & checkType)\n    );\n  } else {\n    return !!(direction & checkType);\n  }\n};\n\nexport const setCssProps = (\n  element: HTMLElement,\n  option: PanInputOption | PinchInputOption,\n  direction: number\n): { [key: string]: string } => {\n  const touchActionMap = {\n    [DIRECTION_NONE]: \"auto\",\n    [DIRECTION_ALL]: \"none\",\n    [DIRECTION_VERTICAL]: \"pan-x\",\n    [DIRECTION_HORIZONTAL]: \"pan-y\",\n  };\n  const oldCssProps = {};\n  if (element && element.style) {\n    const touchAction = option.touchAction\n      ? option.touchAction\n      : touchActionMap[direction];\n    const newCssProps = {\n      ...PREVENT_DRAG_CSSPROPS,\n      \"touch-action\":\n        element.style[\"touch-action\"] === \"none\" ? \"none\" : touchAction,\n    };\n    Object.keys(newCssProps).forEach((prop) => {\n      oldCssProps[prop] = element.style[prop];\n      element.style[prop] = newCssProps[prop];\n    });\n  }\n  return oldCssProps;\n};\n\nexport const revertCssProps = (\n  element: HTMLElement,\n  originalCssProps: { [key: string]: string }\n): { [key: string]: string } => {\n  if (element && element.style && originalCssProps) {\n    Object.keys(originalCssProps).forEach((prop) => {\n      element.style[prop] = originalCssProps[prop];\n    });\n  }\n  return;\n};\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { ComponentEvent } from \"@egjs/component\";\nimport { getObserver } from \"@cfcs/core\";\n\nimport { InputType } from \"./inputType/InputType\";\nimport { Axis } from \"./AxisManager\";\nimport Axes from \"./Axes\";\nimport { roundNumbers } from \"./utils\";\nimport { AnimationParam, OnAnimationStart, OnRelease } from \"./types\";\nimport { AnimationManager } from \"./animation/AnimationManager\";\n\nexport interface ChangeEventOption {\n  input: InputType;\n  event;\n}\n\nexport class EventManager {\n  public animationManager: AnimationManager;\n  public constructor(private _axes: Axes) {}\n  /**\n   * This event is fired when a user holds an element on the screen of the device.\n   * @ko 사용자가 기기의 화면에 손을 대고 있을 때 발생하는 이벤트\n   * @event Axes#hold\n   * @type {object}\n   * @property {Object.<string, number>} pos coordinate <ko>좌표 정보</ko>\n   * @property {Object} input The instance of inputType where the event occurred<ko>이벤트가 발생한 inputType 인스턴스</ko>\n   * @property {Object} inputEvent The event object received from inputType <ko>inputType으로 부터 받은 이벤트 객체</ko>\n   * @property {Boolean} isTrusted Returns true if an event was generated by the user action, or false if it was caused by a script or API call <ko>사용자의 액션에 의해 이벤트가 발생하였으면 true, 스크립트나 API호출에 의해 발생하였을 경우에는 false를 반환한다.</ko>\n   *\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"hold\", function(event) {\n   *   // event.pos\n   *   // event.input\n   *   // event.inputEvent\n   *   // isTrusted\n   * });\n   * ```\n   */\n  public hold(pos: Axis, option: ChangeEventOption) {\n    const { roundPos } = this._getRoundPos(pos);\n\n    this._axes.trigger(\n      new ComponentEvent(\"hold\", {\n        pos: roundPos,\n        input: option.input || null,\n        inputEvent: option.event || null,\n        isTrusted: true,\n      })\n    );\n  }\n\n  /**\n   * Specifies the coordinates to move after the 'change' event. It works when the holding value of the change event is true.\n   * @ko 'change' 이벤트 이후 이동할 좌표를 지정한다. change이벤트의 holding 값이 true일 경우에 동작한다\n   * @param {Object.<string, number>} pos The coordinate to move to <ko>이동할 좌표</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"change\", function(event) {\n   *   event.holding && event.set({x: 10});\n   * });\n   * ```\n   */\n  /** Specifies the animation coordinates to move after the 'release' or 'animationStart' events.\n   * @ko 'release' 또는 'animationStart' 이벤트 이후 이동할 좌표를 지정한다.\n   * @param {Object.<string, number>} pos The coordinate to move to <ko>이동할 좌표</ko>\n   * @param {Number} [duration=0] Duration of the animation (unit: ms) <ko>애니메이션 진행 시간(단위: ms)</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"animationStart\", function(event) {\n   *   event.setTo({x: 10}, 2000);\n   * });\n   * ```\n   */\n  /**\n   * This event is fired when a user release an element on the screen of the device.\n   * @ko 사용자가 기기의 화면에서 손을 뗐을 때 발생하는 이벤트\n   * @event Axes#release\n   * @type {object}\n   * @property {Object.<string, number>} depaPos The coordinates when releasing an element<ko>손을 뗐을 때의 좌표 </ko>\n   * @property {Object.<string, number>} destPos The coordinates to move to after releasing an element<ko>손을 뗀 뒤에 이동할 좌표</ko>\n   * @property {Object.<string, number>} delta  The movement variation of coordinate <ko>좌표의 변화량</ko>\n   * @property {Object.<string, number>} bounceRatio If the coordinates at the time of release are in the bounce area, the current bounce value divided by the maximum bounce value <ko>손을 뗐을 때의 좌표가 bounce 영역에 있는 경우 현재 bounce된 값을 최대 bounce 값으로 나눈 수치.</ko>\n   * @property {Object} inputEvent The event object received from inputType <ko>inputType으로 부터 받은 이벤트 객체</ko>\n   * @property {Object} input The instance of inputType where the event occurred<ko>이벤트가 발생한 inputType 인스턴스</ko>\n   * @property {setTo} setTo Specifies the animation coordinates to move after the event <ko>이벤트 이후 이동할 애니메이션 좌표를 지정한다</ko>\n   * @property {Boolean} isTrusted Returns true if an event was generated by the user action, or false if it was caused by a script or API call <ko>사용자의 액션에 의해 이벤트가 발생하였으면 true, 스크립트나 API호출에 의해 발생하였을 경우에는 false를 반환한다.</ko>\n   *\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"release\", function(event) {\n   *   // event.depaPos\n   *   // event.destPos\n   *   // event.delta\n   *   // event.input\n   *   // event.inputEvent\n   *   // event.setTo\n   *   // event.isTrusted\n   *\n   *   // if you want to change the animation coordinates to move after the 'release' event.\n   *   event.setTo({x: 10}, 2000);\n   * });\n   * ```\n   */\n  public triggerRelease(param: AnimationParam) {\n    const { roundPos, roundDepa } = this._getRoundPos(\n      param.destPos,\n      param.depaPos\n    );\n    param.destPos = roundPos;\n    param.depaPos = roundDepa;\n    param.setTo = this._createUserControll(param.destPos, param.duration);\n    this._axes.trigger(\n      new ComponentEvent(\"release\", {\n        ...param,\n        bounceRatio: this._getBounceRatio(roundPos),\n      } as OnRelease)\n    );\n  }\n\n  /**\n   * This event is fired when coordinate changes.\n   * @ko 좌표가 변경됐을 때 발생하는 이벤트\n   * @event Axes#change\n   * @type {object}\n   * @property {Object.<string, number>} pos  The coordinate <ko>좌표</ko>\n   * @property {Object.<string, number>} delta  The movement variation of coordinate <ko>좌표의 변화량</ko>\n   * @property {Object.<string, number>} bounceRatio If the current coordinates are in the bounce area, the current bounce value divided by the maximum bounce value <ko>현재 좌표가 bounce 영역에 있는 경우 현재 bounce된 값을 최대 bounce 값으로 나눈 수치.</ko>\n   * @property {Boolean} holding Indicates whether a user holds an element on the screen of the device.<ko>사용자가 기기의 화면을 누르고 있는지 여부</ko>\n   * @property {Object} input The instance of inputType where the event occurred. If the value is changed by animation, it returns 'null'.<ko>이벤트가 발생한 inputType 인스턴스. 애니메이션에 의해 값이 변경될 경우에는 'null'을 반환한다.</ko>\n   * @property {Object} inputEvent The event object received from inputType. If the value is changed by animation, it returns 'null'.<ko>inputType으로 부터 받은 이벤트 객체. 애니메이션에 의해 값이 변경될 경우에는 'null'을 반환한다.</ko>\n   * @property {set} set Specifies the coordinates to move after the event. It works when the holding value is true <ko>이벤트 이후 이동할 좌표를 지정한다. holding 값이 true일 경우에 동작한다.</ko>\n   * @property {Boolean} isTrusted Returns true if an event was generated by the user action, or false if it was caused by a script or API call <ko>사용자의 액션에 의해 이벤트가 발생하였으면 true, 스크립트나 API호출에 의해 발생하였을 경우에는 false를 반환한다.</ko>\n   *\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"change\", function(event) {\n   *   // event.pos\n   *   // event.delta\n   *   // event.input\n   *   // event.inputEvent\n   *   // event.holding\n   *   // event.set\n   *   // event.isTrusted\n   *\n   *   // if you want to change the coordinates to move after the 'change' event.\n   *   // it works when the holding value of the change event is true.\n   *   event.holding && event.set({x: 10});\n   * });\n   * ```\n   */\n  public triggerChange(\n    pos: Axis,\n    depaPos?: Axis,\n    option?: ChangeEventOption,\n    holding: boolean = false\n  ) {\n    const animationManager = this.animationManager;\n    const axisManager = animationManager.axisManager;\n    const eventInfo = animationManager.getEventInfo();\n    const { roundPos, roundDepa } = this._getRoundPos(pos, depaPos);\n    const moveTo = axisManager.moveTo(roundPos, roundDepa);\n    const inputEvent = option?.event || eventInfo?.event || null;\n    const param = {\n      pos: moveTo.pos,\n      delta: moveTo.delta,\n      bounceRatio: this._getBounceRatio(moveTo.pos),\n      holding,\n      inputEvent,\n      isTrusted: !!inputEvent,\n      input: option?.input || eventInfo?.input || null,\n      set: inputEvent ? this._createUserControll(moveTo.pos) : () => {}, // eslint-disable-line @typescript-eslint/no-empty-function\n    };\n    const event = new ComponentEvent(\"change\", param);\n    this._axes.trigger(event);\n    Object.keys(moveTo.pos).forEach((axis) => {\n      const p = moveTo.pos[axis];\n      getObserver(this._axes, axis, p).current = p;\n    });\n\n    if (inputEvent) {\n      axisManager.set(\n        (param.set() as { destPos: Axis; duration: number }).destPos\n      );\n    }\n\n    return !event.isCanceled();\n  }\n\n  /**\n   * This event is fired when animation starts.\n   * @ko 에니메이션이 시작할 때 발생한다.\n   * @event Axes#animationStart\n   * @type {object}\n   * @property {Object.<string, number>} depaPos The coordinates when animation starts<ko>애니메이션이 시작 되었을 때의 좌표 </ko>\n   * @property {Object.<string, number>} destPos The coordinates to move to. If you change this value, you can run the animation<ko>이동할 좌표. 이값을 변경하여 애니메이션을 동작시킬수 있다</ko>\n   * @property {Object.<string, number>} delta  The movement variation of coordinate <ko>좌표의 변화량</ko>\n   * @property {Number} duration Duration of the animation (unit: ms). If you change this value, you can control the animation duration time.<ko>애니메이션 진행 시간(단위: ms). 이값을 변경하여 애니메이션의 이동시간을 조절할 수 있다.</ko>\n   * @property {Object} input The instance of inputType where the event occurred. If the value is changed by animation, it returns 'null'.<ko>이벤트가 발생한 inputType 인스턴스. 애니메이션에 의해 값이 변경될 경우에는 'null'을 반환한다.</ko>\n   * @property {Object} inputEvent The event object received from inputType <ko>inputType으로 부터 받은 이벤트 객체</ko>\n   * @property {setTo} setTo Specifies the animation coordinates to move after the event <ko>이벤트 이후 이동할 애니메이션 좌표를 지정한다</ko>\n   * @property {Boolean} isTrusted Returns true if an event was generated by the user action, or false if it was caused by a script or API call <ko>사용자의 액션에 의해 이벤트가 발생하였으면 true, 스크립트나 API호출에 의해 발생하였을 경우에는 false를 반환한다.</ko>\n   *\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"release\", function(event) {\n   *   // event.depaPos\n   *   // event.destPos\n   *   // event.delta\n   *   // event.input\n   *   // event.inputEvent\n   *   // event.setTo\n   *   // event.isTrusted\n   *\n   *   // if you want to change the animation coordinates to move after the 'animationStart' event.\n   *   event.setTo({x: 10}, 2000);\n   * });\n   * ```\n   */\n  public triggerAnimationStart(param: AnimationParam): boolean {\n    const { roundPos, roundDepa } = this._getRoundPos(\n      param.destPos,\n      param.depaPos\n    );\n    param.destPos = roundPos;\n    param.depaPos = roundDepa;\n    param.setTo = this._createUserControll(param.destPos, param.duration);\n    const event = new ComponentEvent(\n      \"animationStart\",\n      param as OnAnimationStart\n    );\n    this._axes.trigger(event);\n    return !event.isCanceled();\n  }\n\n  /**\n   * This event is fired when animation ends.\n   * @ko 에니메이션이 끝났을 때 발생한다.\n   * @event Axes#animationEnd\n   * @type {object}\n   * @property {Boolean} isTrusted Returns true if an event was generated by the user action, or false if it was caused by a script or API call <ko>사용자의 액션에 의해 이벤트가 발생하였으면 true, 스크립트나 API호출에 의해 발생하였을 경우에는 false를 반환한다.</ko>\n   *\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"animationEnd\", function(event) {\n   *   // event.isTrusted\n   * });\n   * ```\n   */\n  public triggerAnimationEnd(isTrusted: boolean = false) {\n    this._axes.trigger(\n      new ComponentEvent(\"animationEnd\", {\n        isTrusted,\n      })\n    );\n  }\n\n  /**\n   * This event is fired when all actions have been completed.\n   * @ko 에니메이션이 끝났을 때 발생한다.\n   * @event Axes#finish\n   * @type {object}\n   * @property {Boolean} isTrusted Returns true if an event was generated by the user action, or false if it was caused by a script or API call <ko>사용자의 액션에 의해 이벤트가 발생하였으면 true, 스크립트나 API호출에 의해 발생하였을 경우에는 false를 반환한다.</ko>\n   *\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * }).on(\"finish\", function(event) {\n   *   // event.isTrusted\n   * });\n   * ```\n   */\n  public triggerFinish(isTrusted: boolean = false) {\n    this._axes.trigger(\n      new ComponentEvent(\"finish\", {\n        isTrusted,\n      })\n    );\n  }\n\n  public setAnimationManager(animationManager: AnimationManager) {\n    this.animationManager = animationManager;\n  }\n\n  public destroy() {\n    this._axes.off();\n  }\n\n  private _createUserControll(pos: Axis, duration: number = 0) {\n    // to controll\n    const userControl = {\n      destPos: { ...pos },\n      duration,\n    };\n    return (\n      toPos?: Axis,\n      userDuration?: number\n    ): { destPos: Axis; duration: number } => {\n      if (toPos) {\n        userControl.destPos = { ...toPos };\n      }\n      if (userDuration !== undefined) {\n        userControl.duration = userDuration;\n      }\n      return userControl;\n    };\n  }\n\n  private _getRoundPos(pos: Axis, depaPos?: Axis) {\n    // round value if round exist\n    const roundUnit = this._axes.options.round;\n\n    // if (round == null) {\n    //   return {pos, depaPos}; // undefined, undefined\n    // }\n    return {\n      roundPos: roundNumbers(pos, roundUnit),\n      roundDepa: roundNumbers(depaPos, roundUnit),\n    };\n  }\n\n  private _getBounceRatio(pos: Axis): Axis {\n    return this._axes.axisManager.map(pos, (v, opt) => {\n      if (v < opt.range[0] && opt.bounce[0] !== 0) {\n        return (opt.range[0] - v) / opt.bounce[0];\n      } else if (v > opt.range[1] && opt.bounce[1] !== 0) {\n        return (v - opt.range[1]) / opt.bounce[1];\n      } else {\n        return 0;\n      }\n    });\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { AxesOption } from \"./Axes\";\nexport class InterruptManager {\n  private _prevented = false; //  check whether the animation event was prevented\n  public constructor(private _options: AxesOption) {}\n\n  public isInterrupting() {\n    // when interruptable is 'true', return value is always 'true'.\n    return this._options.interruptable || this._prevented;\n  }\n\n  public isInterrupted() {\n    return !this._options.interruptable && this._prevented;\n  }\n\n  public setInterrupt(prevented) {\n    if (!this._options.interruptable) {\n      this._prevented = prevented;\n    }\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nexport const getInsidePosition = (\n  destPos: number,\n  range: number[],\n  circular: boolean[],\n  bounce?: number[]\n): number => {\n  let toDestPos: number = destPos;\n  const targetRange: number[] = [\n    circular[0] ? range[0] : bounce ? range[0] - bounce[0] : range[0],\n    circular[1] ? range[1] : bounce ? range[1] + bounce[1] : range[1],\n  ];\n\n  toDestPos = Math.max(targetRange[0], toDestPos);\n  toDestPos = Math.min(targetRange[1], toDestPos);\n\n  return toDestPos;\n};\n\n// determine outside\nexport const isOutside = (pos: number, range: number[]): boolean => {\n  return pos < range[0] || pos > range[1];\n};\n\n// determine whether position has reached the maximum moveable area\nexport const isEndofBounce = (\n  pos: number,\n  range: number[],\n  bounce: number[],\n  circular: boolean[]\n): boolean => {\n  return (\n    (!circular[0] && pos === range[0] - bounce[0]) ||\n    (!circular[1] && pos === range[1] + bounce[1])\n  );\n};\n\nexport const getDuration = (distance: number, deceleration): number => {\n  const duration = Math.sqrt((distance / deceleration) * 2);\n\n  // when duration is under 100, then value is zero\n  return duration < 100 ? 0 : duration;\n};\n\nexport const isCircularable = (\n  destPos: number,\n  range: number[],\n  circular: boolean[]\n): boolean => {\n  return (\n    (circular[1] && destPos > range[1]) || (circular[0] && destPos < range[0])\n  );\n};\n\nexport const getCirculatedPos = (\n  pos: number,\n  range: number[],\n  circular: boolean[]\n): number => {\n  let toPos = pos;\n  const min = range[0];\n  const max = range[1];\n  const length = max - min;\n\n  if (circular[1] && pos > max) {\n    // right\n    toPos = ((toPos - max) % length) + min;\n  }\n  if (circular[0] && pos < min) {\n    // left\n    toPos = ((toPos - min) % length) + max;\n  }\n  return toPos;\n};\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { isOutside, getCirculatedPos } from \"./Coordinate\";\nimport { map, filter, every } from \"./utils\";\nimport { ObjectInterface } from \"./types\";\n\nexport interface Axis {\n  [key: string]: number;\n}\n\nexport interface AxisOption {\n  range?: number[];\n  bounce?: number | number[];\n  circular?: boolean | boolean[];\n  startPos?: number;\n}\n\nexport class AxisManager {\n  private _pos: Axis;\n  public constructor(private _axis: ObjectInterface<AxisOption>) {\n    this._complementOptions();\n    this._pos = Object.keys(this._axis).reduce((pos, v) => {\n      pos[v] = this._axis[v].startPos;\n      return pos;\n    }, {});\n  }\n\n  public getDelta(depaPos: Axis, destPos: Axis): Axis {\n    const fullDepaPos = this.get(depaPos);\n    return map(this.get(destPos), (v, k) => v - fullDepaPos[k]);\n  }\n\n  public get(axes?: string[] | Axis): Axis {\n    if (axes && Array.isArray(axes)) {\n      return axes.reduce((acc, v) => {\n        if (v && v in this._pos) {\n          acc[v] = this._pos[v];\n        }\n        return acc;\n      }, {});\n    } else {\n      return { ...this._pos, ...((axes || {}) as Axis) };\n    }\n  }\n\n  public moveTo(pos: Axis, depaPos: Axis = this._pos): { [key: string]: Axis } {\n    const delta = map(this._pos, (v, key) => {\n      return key in pos && key in depaPos ? pos[key] - depaPos[key] : 0;\n    });\n\n    this.set(\n      this.map(pos, (v, opt) =>\n        opt ? getCirculatedPos(v, opt.range, opt.circular as boolean[]) : 0\n      )\n    );\n    return {\n      pos: { ...this._pos },\n      delta,\n    };\n  }\n\n  public set(pos: Axis) {\n    for (const k in pos) {\n      if (k && k in this._pos) {\n        this._pos[k] = pos[k];\n      }\n    }\n  }\n\n  public every(\n    pos: Axis,\n    callback: (value: number, options: AxisOption, key: string) => boolean\n  ): boolean {\n    const axisOptions = this._axis;\n\n    return every(pos, (value, key) => callback(value, axisOptions[key], key));\n  }\n\n  public filter(\n    pos: Axis,\n    callback: (value: number, options: AxisOption, key: string) => boolean\n  ): Axis {\n    const axisOptions = this._axis;\n\n    return filter(pos, (value, key) => callback(value, axisOptions[key], key));\n  }\n\n  public map<U>(\n    pos: Axis,\n    callback: (value: number, options: AxisOption, key: string) => U\n  ) {\n    const axisOptions = this._axis;\n\n    return map<number, U>(pos, (value, key) =>\n      callback(value, axisOptions[key], key)\n    );\n  }\n\n  public isOutside(axes?: string[]) {\n    return !this.every(\n      axes ? this.get(axes) : this._pos,\n      (v, opt) => !isOutside(v, opt.range)\n    );\n  }\n\n  public getAxisOptions(key: string) {\n    return this._axis[key];\n  }\n\n  public setAxis(axis: ObjectInterface<AxisOption>) {\n    Object.keys(axis).forEach((key) => {\n      if (!this._axis[key]) {\n        throw new Error(`Axis ${key} does not exist in Axes instance`);\n      }\n      this._axis[key] = {\n        ...this._axis[key],\n        ...axis[key],\n      };\n    });\n    this._complementOptions();\n  }\n\n  /**\n   * set up 'css' expression\n   * @private\n   */\n  private _complementOptions() {\n    Object.keys(this._axis).forEach((axis) => {\n      this._axis[axis] = {\n        ...{\n          range: [0, 100],\n          startPos: this._axis[axis].range[0],\n          bounce: [0, 0],\n          circular: [false, false],\n        },\n        ...this._axis[axis],\n      };\n\n      [\"bounce\", \"circular\"].forEach((v) => {\n        const axisOption = this._axis;\n        const key = axisOption[axis][v];\n\n        if (/string|number|boolean/.test(typeof key)) {\n          axisOption[axis][v] = [key, key];\n        }\n      });\n    });\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { ExtendedEvent, InputEventType, LatestInterval } from \"../types\";\nimport { getAngle } from \"../utils\";\nimport { window } from \"../browser\";\nimport {\n  ALT,\n  ANY,\n  CTRL,\n  META,\n  MOUSE_LEFT,\n  MOUSE_MIDDLE,\n  MOUSE_RIGHT,\n  NONE,\n  SHIFT,\n  VELOCITY_INTERVAL,\n} from \"../const\";\n\nexport const SUPPORT_TOUCH = \"ontouchstart\" in window;\nexport const SUPPORT_POINTER = \"PointerEvent\" in window;\nexport const SUPPORT_MSPOINTER = \"MSPointerEvent\" in window;\nexport const SUPPORT_POINTER_EVENTS = SUPPORT_POINTER || SUPPORT_MSPOINTER;\n\nexport const isValidKey = (\n  event: InputEventType | WheelEvent,\n  inputKey?: string[]\n): boolean => {\n  if (\n    !inputKey ||\n    inputKey.indexOf(ANY) > -1 ||\n    (inputKey.indexOf(NONE) > -1 &&\n      !event.shiftKey &&\n      !event.ctrlKey &&\n      !event.altKey &&\n      !event.metaKey) ||\n    (inputKey.indexOf(SHIFT) > -1 && event.shiftKey) ||\n    (inputKey.indexOf(CTRL) > -1 && event.ctrlKey) ||\n    (inputKey.indexOf(ALT) > -1 && event.altKey) ||\n    (inputKey.indexOf(META) > -1 && event.metaKey)\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport abstract class EventInput {\n  public prevEvent: ExtendedEvent;\n  private _latestInterval: LatestInterval;\n\n  public abstract onEventStart(\n    event: InputEventType,\n    inputButton?: string[]\n  ): ExtendedEvent;\n\n  public abstract onEventMove(\n    event: InputEventType,\n    inputButton?: string[]\n  ): ExtendedEvent;\n\n  public abstract onEventEnd(event: InputEventType): void;\n\n  public abstract onRelease(event: InputEventType): void;\n\n  public abstract getTouches(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): number;\n\n  protected abstract _getScale(event: InputEventType): number;\n\n  protected abstract _getCenter(event: InputEventType): {\n    x: number;\n    y: number;\n  };\n\n  protected abstract _getMovement(event: InputEventType): {\n    x: number;\n    y: number;\n  };\n\n  public extendEvent(event: InputEventType): ExtendedEvent {\n    const prevEvent = this.prevEvent;\n    const center = this._getCenter(event);\n    const movement = prevEvent ? this._getMovement(event) : { x: 0, y: 0 };\n    const scale = prevEvent ? this._getScale(event) : 1;\n    const angle = prevEvent\n      ? getAngle(center.x - prevEvent.center.x, center.y - prevEvent.center.y)\n      : 0;\n    const deltaX = prevEvent ? prevEvent.deltaX + movement.x : movement.x;\n    const deltaY = prevEvent ? prevEvent.deltaY + movement.y : movement.y;\n    const offsetX = movement.x;\n    const offsetY = movement.y;\n    const latestInterval = this._latestInterval;\n    const timeStamp = Date.now();\n    const deltaTime = latestInterval ? timeStamp - latestInterval.timestamp : 0;\n    let velocityX = prevEvent ? prevEvent.velocityX : 0;\n    let velocityY = prevEvent ? prevEvent.velocityY : 0;\n    if (!latestInterval || deltaTime >= VELOCITY_INTERVAL) {\n      if (latestInterval) {\n        [velocityX, velocityY] = [\n          (deltaX - latestInterval.deltaX) / deltaTime,\n          (deltaY - latestInterval.deltaY) / deltaTime,\n        ];\n      }\n      this._latestInterval = {\n        timestamp: timeStamp,\n        deltaX,\n        deltaY,\n      };\n    }\n    return {\n      srcEvent: event,\n      scale,\n      angle,\n      center,\n      deltaX,\n      deltaY,\n      offsetX,\n      offsetY,\n      velocityX,\n      velocityY,\n      preventSystemEvent: true,\n    };\n  }\n\n  protected _getDistance(\n    start: Touch | PointerEvent,\n    end: Touch | PointerEvent\n  ): number {\n    const x = end.clientX - start.clientX;\n    const y = end.clientY - start.clientY;\n    return Math.sqrt(x * x + y * y);\n  }\n\n  protected _getButton(event: InputEventType): string {\n    const buttonCodeMap = { 1: MOUSE_LEFT, 2: MOUSE_RIGHT, 4: MOUSE_MIDDLE };\n    const button = this._isTouchEvent(event)\n      ? MOUSE_LEFT\n      : buttonCodeMap[event.buttons];\n    return button ? button : null;\n  }\n\n  protected _isTouchEvent(event: InputEventType): event is TouchEvent {\n    return event.type && event.type.indexOf(\"touch\") > -1;\n  }\n\n  protected _isValidButton(button: string, inputButton: string[]): boolean {\n    return inputButton.indexOf(button) > -1;\n  }\n\n  protected _isValidEvent(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): boolean {\n    return (\n      (!inputKey || isValidKey(event, inputKey)) &&\n      (!inputButton || this._isValidButton(this._getButton(event), inputButton))\n    );\n  }\n\n  protected _preventMouseButton(event: InputEventType, button: string): void {\n    if (button === MOUSE_RIGHT) {\n      window.addEventListener(\"contextmenu\", this._stopContextMenu);\n    } else if (button === MOUSE_MIDDLE) {\n      event.preventDefault();\n    }\n  }\n\n  private _stopContextMenu = (event: InputEventType) => {\n    event.preventDefault();\n    window.removeEventListener(\"contextmenu\", this._stopContextMenu);\n  };\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { InputEventType, ExtendedEvent } from \"../types\";\nimport { MOUSE_LEFT, MOUSE_MIDDLE, MOUSE_RIGHT } from \"../const\";\n\nimport { EventInput } from \"./EventInput\";\n\nexport class MouseEventInput extends EventInput {\n  public readonly start = [\"mousedown\"];\n  public readonly move = [\"mousemove\"];\n  public readonly end = [\"mouseup\"];\n\n  public onEventStart(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): ExtendedEvent {\n    const button = this._getButton(event);\n    if (!this._isValidEvent(event, inputKey, inputButton)) {\n      return null;\n    }\n    this._preventMouseButton(event, button);\n    return this.extendEvent(event);\n  }\n\n  public onEventMove(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): ExtendedEvent {\n    if (!this._isValidEvent(event, inputKey, inputButton)) {\n      return null;\n    }\n    return this.extendEvent(event);\n  }\n\n  public onEventEnd(): void {\n    return;\n  }\n\n  public onRelease(): void {\n    this.prevEvent = null;\n    return;\n  }\n\n  public getTouches(event: InputEventType, inputButton?: string[]): number {\n    if (inputButton) {\n      const buttonCodeMap = { 1: MOUSE_LEFT, 2: MOUSE_MIDDLE, 3: MOUSE_RIGHT };\n      return this._isValidButton(buttonCodeMap[event.which], inputButton) &&\n        this.end.indexOf(event.type) === -1\n        ? 1\n        : 0;\n    }\n    return 0;\n  }\n\n  protected _getScale(): number {\n    return 1;\n  }\n\n  protected _getCenter(event: MouseEvent): { x: number; y: number } {\n    return {\n      x: event.clientX,\n      y: event.clientY,\n    };\n  }\n\n  protected _getMovement(event: MouseEvent): { x: number; y: number } {\n    const prev = this.prevEvent.srcEvent as MouseEvent;\n    return {\n      x: event.clientX - prev.clientX,\n      y: event.clientY - prev.clientY,\n    };\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { InputEventType, ExtendedEvent } from \"../types\";\n\nimport { EventInput } from \"./EventInput\";\n\nexport class TouchEventInput extends EventInput {\n  public readonly start = [\"touchstart\"];\n  public readonly move = [\"touchmove\"];\n  public readonly end = [\"touchend\", \"touchcancel\"];\n\n  private _baseTouches: TouchList;\n\n  public onEventStart(\n    event: InputEventType,\n    inputKey?: string[]\n  ): ExtendedEvent {\n    this._baseTouches = (event as TouchEvent).touches;\n    if (!this._isValidEvent(event, inputKey)) {\n      return null;\n    }\n    return this.extendEvent(event);\n  }\n\n  public onEventMove(\n    event: InputEventType,\n    inputKey?: string[]\n  ): ExtendedEvent {\n    if (!this._isValidEvent(event, inputKey)) {\n      return null;\n    }\n    return this.extendEvent(event);\n  }\n\n  public onEventEnd(event: InputEventType): void {\n    this._baseTouches = (event as TouchEvent).touches;\n    return;\n  }\n\n  public onRelease(): void {\n    this.prevEvent = null;\n    this._baseTouches = null;\n    return;\n  }\n\n  public getTouches(event: InputEventType): number {\n    return (event as TouchEvent).touches.length;\n  }\n\n  protected _getScale(event: TouchEvent): number {\n    if (event.touches.length !== 2 || this._baseTouches.length < 2) {\n      return null; // TODO: consider calculating non-pinch gesture scale\n    }\n    return (\n      this._getDistance(event.touches[0], event.touches[1]) /\n      this._getDistance(this._baseTouches[0], this._baseTouches[1])\n    );\n  }\n\n  protected _getCenter(event: TouchEvent): { x: number; y: number } {\n    return {\n      x: event.touches[0].clientX,\n      y: event.touches[0].clientY,\n    };\n  }\n\n  protected _getMovement(event: TouchEvent): { x: number; y: number } {\n    const prev = this.prevEvent.srcEvent as TouchEvent;\n    if (event.touches[0].identifier !== prev.touches[0].identifier) {\n      return {\n        x: 0,\n        y: 0,\n      };\n    }\n    return {\n      x: event.touches[0].clientX - prev.touches[0].clientX,\n      y: event.touches[0].clientY - prev.touches[0].clientY,\n    };\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { InputEventType, ExtendedEvent } from \"../types\";\n\nimport { EventInput, SUPPORT_POINTER } from \"./EventInput\";\n\nexport class PointerEventInput extends EventInput {\n  public readonly start = SUPPORT_POINTER ? [\"pointerdown\"] : [\"MSPointerDown\"];\n  public readonly move = SUPPORT_POINTER ? [\"pointermove\"] : [\"MSPointerMove\"];\n  public readonly end = SUPPORT_POINTER\n    ? [\"pointerup\", \"pointercancel\"]\n    : [\"MSPointerUp\", \"MSPointerCancel\"];\n\n  // store first, recent inputs for each event id\n  private _firstInputs: PointerEvent[] = [];\n  private _recentInputs: PointerEvent[] = [];\n\n  public onEventStart(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): ExtendedEvent {\n    const button = this._getButton(event);\n    if (!this._isValidEvent(event, inputKey, inputButton)) {\n      return null;\n    }\n    this._preventMouseButton(event, button);\n    this._updatePointerEvent(event as PointerEvent);\n    return this.extendEvent(event);\n  }\n\n  public onEventMove(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): ExtendedEvent {\n    if (!this._isValidEvent(event, inputKey, inputButton)) {\n      return null;\n    }\n    this._updatePointerEvent(event as PointerEvent);\n    return this.extendEvent(event);\n  }\n\n  public onEventEnd(event: InputEventType): void {\n    this._removePointerEvent(event as PointerEvent);\n  }\n\n  public onRelease(): void {\n    this.prevEvent = null;\n    this._firstInputs = [];\n    this._recentInputs = [];\n    return;\n  }\n\n  public getTouches(): number {\n    return this._recentInputs.length;\n  }\n\n  protected _getScale(): number {\n    if (this._recentInputs.length !== 2) {\n      return null; // TODO: consider calculating non-pinch gesture scale\n    }\n    return (\n      this._getDistance(this._recentInputs[0], this._recentInputs[1]) /\n      this._getDistance(this._firstInputs[0], this._firstInputs[1])\n    );\n  }\n\n  protected _getCenter(event: PointerEvent): { x: number; y: number } {\n    return {\n      x: event.clientX,\n      y: event.clientY,\n    };\n  }\n\n  protected _getMovement(event: PointerEvent): { x: number; y: number } {\n    const prev = this.prevEvent.srcEvent as PointerEvent;\n    if (event.pointerId !== prev.pointerId) {\n      return {\n        x: 0,\n        y: 0,\n      };\n    }\n    return {\n      x: event.clientX - prev.clientX,\n      y: event.clientY - prev.clientY,\n    };\n  }\n\n  private _updatePointerEvent(event: PointerEvent) {\n    let addFlag = false;\n    this._recentInputs.forEach((e, i) => {\n      if (e.pointerId === event.pointerId) {\n        addFlag = true;\n        this._recentInputs[i] = event;\n      }\n    });\n    if (!addFlag) {\n      this._firstInputs.push(event);\n      this._recentInputs.push(event);\n    }\n  }\n\n  private _removePointerEvent(event?: PointerEvent) {\n    this._firstInputs = this._firstInputs.filter(\n      (x) => x.pointerId !== event.pointerId\n    );\n    this._recentInputs = this._recentInputs.filter(\n      (x) => x.pointerId !== event.pointerId\n    );\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { InputEventType, ExtendedEvent } from \"../types\";\n\nimport { EventInput } from \"./EventInput\";\n\nexport class TouchMouseEventInput extends EventInput {\n  public readonly start = [\"mousedown\", \"touchstart\"];\n  public readonly move = [\"mousemove\", \"touchmove\"];\n  public readonly end = [\"mouseup\", \"touchend\", \"touchcancel\"];\n\n  private _baseTouches: TouchList;\n\n  public onEventStart(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): ExtendedEvent {\n    const button = this._getButton(event);\n    if (this._isTouchEvent(event)) {\n      this._baseTouches = event.touches;\n    }\n    if (!this._isValidEvent(event, inputKey, inputButton)) {\n      return null;\n    }\n    this._preventMouseButton(event, button);\n    return this.extendEvent(event);\n  }\n\n  public onEventMove(\n    event: InputEventType,\n    inputKey?: string[],\n    inputButton?: string[]\n  ): ExtendedEvent {\n    if (!this._isValidEvent(event, inputKey, inputButton)) {\n      return null;\n    }\n    return this.extendEvent(event);\n  }\n\n  public onEventEnd(event: InputEventType): void {\n    if (this._isTouchEvent(event)) {\n      this._baseTouches = event.touches;\n    }\n    return;\n  }\n\n  public onRelease(): void {\n    this.prevEvent = null;\n    this._baseTouches = null;\n    return;\n  }\n\n  public getTouches(event: InputEventType): number {\n    return this._isTouchEvent(event) ? event.touches.length : 0;\n  }\n\n  protected _getScale(event: MouseEvent | TouchEvent): number {\n    if (this._isTouchEvent(event)) {\n      if (event.touches.length !== 2 || this._baseTouches.length < 2) {\n        return 1; // TODO: consider calculating non-pinch gesture scale\n      }\n      return (\n        this._getDistance(event.touches[0], event.touches[1]) /\n        this._getDistance(this._baseTouches[0], this._baseTouches[1])\n      );\n    }\n    return this.prevEvent.scale;\n  }\n\n  protected _getCenter(event: MouseEvent | TouchEvent): {\n    x: number;\n    y: number;\n  } {\n    if (this._isTouchEvent(event)) {\n      return {\n        x: event.touches[0].clientX,\n        y: event.touches[0].clientY,\n      };\n    }\n    return {\n      x: event.clientX,\n      y: event.clientY,\n    };\n  }\n\n  protected _getMovement(event: MouseEvent | TouchEvent): {\n    x: number;\n    y: number;\n  } {\n    const prev = this.prevEvent.srcEvent;\n    const [nextSpot, prevSpot] = [event, prev].map((e) => {\n      if (this._isTouchEvent(e)) {\n        return {\n          id: e.touches[0].identifier,\n          x: e.touches[0].clientX,\n          y: e.touches[0].clientY,\n        };\n      }\n      return {\n        id: null,\n        x: e.clientX,\n        y: e.clientY,\n      };\n    });\n    return nextSpot.id === prevSpot.id\n      ? { x: nextSpot.x - prevSpot.x, y: nextSpot.y - prevSpot.y }\n      : { x: 0, y: 0 };\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { Axis } from \"../AxisManager\";\nimport { AxesOption } from \"../Axes\";\nimport { ActiveEvent } from \"../types\";\nimport { MouseEventInput } from \"../eventInput/MouseEventInput\";\nimport { TouchEventInput } from \"../eventInput/TouchEventInput\";\nimport { PointerEventInput } from \"../eventInput/PointerEventInput\";\nimport { TouchMouseEventInput } from \"../eventInput/TouchMouseEventInput\";\nimport {\n  SUPPORT_POINTER_EVENTS,\n  SUPPORT_TOUCH,\n} from \"../eventInput/EventInput\";\n\nexport interface InputType {\n  axes: string[];\n  element: HTMLElement;\n  mapAxes(axes: string[]);\n  connect(observer: InputTypeObserver): InputType;\n  disconnect();\n  destroy();\n  enable?();\n  disable?();\n  isEnable?(): boolean;\n}\n\nexport interface InputTypeObserver {\n  options: AxesOption;\n  get(inputType: InputType): Axis;\n  change(inputType: InputType, event, offset: Axis, useAnimation?: boolean);\n  hold(inputType: InputType, event);\n  release(\n    inputType: InputType,\n    event,\n    velocity: number[],\n    inputDuration?: number\n  );\n}\n\nexport const toAxis = (source: string[], offset: number[]): Axis => {\n  return offset.reduce((acc, v, i) => {\n    if (source[i]) {\n      acc[source[i]] = v;\n    }\n    return acc;\n  }, {});\n};\n\nexport const convertInputType = (inputType: string[] = []): ActiveEvent => {\n  let hasTouch = false;\n  let hasMouse = false;\n  let hasPointer = false;\n\n  inputType.forEach((v) => {\n    switch (v) {\n      case \"mouse\":\n        hasMouse = true;\n        break;\n      case \"touch\":\n        hasTouch = SUPPORT_TOUCH;\n        break;\n      case \"pointer\":\n        hasPointer = SUPPORT_POINTER_EVENTS;\n      // no default\n    }\n  });\n  if (hasPointer) {\n    return new PointerEventInput();\n  } else if (hasTouch && hasMouse) {\n    return new TouchMouseEventInput();\n  } else if (hasTouch) {\n    return new TouchEventInput();\n  } else if (hasMouse) {\n    return new MouseEventInput();\n  }\n  return null;\n};\n\nexport function getAddEventOptions(eventName: string) {\n\t// The passive default value of the touch event is true.\n\t// If not a touch event, return false to support ie11\n\treturn eventName.indexOf(\"touch\") > -1 ? { passive: false } : false;\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { InterruptManager } from \"./InterruptManager\";\nimport { InputType, InputTypeObserver, toAxis } from \"./inputType/InputType\";\nimport { EventManager, ChangeEventOption } from \"./EventManager\";\nimport { AxisManager, Axis } from \"./AxisManager\";\nimport { AxesOption } from \"./Axes\";\nimport {\n  isOutside,\n  getInsidePosition,\n  getCirculatedPos,\n  isEndofBounce,\n} from \"./Coordinate\";\nimport { map, equal } from \"./utils\";\nimport { AnimationParam } from \"./types\";\nimport { AnimationManager } from \"./animation/AnimationManager\";\n\nexport class InputObserver implements InputTypeObserver {\n  public options: AxesOption;\n  private _interruptManager: InterruptManager;\n  private _eventManager: EventManager;\n  private _axisManager: AxisManager;\n  private _animationManager: AnimationManager;\n  private _isOutside = false;\n  private _moveDistance: Axis = null;\n  private _isStopped = false;\n  public constructor({\n    options,\n    interruptManager,\n    eventManager,\n    axisManager,\n    animationManager,\n  }: {\n    options: AxesOption;\n    interruptManager: InterruptManager;\n    eventManager: EventManager;\n    axisManager: AxisManager;\n    animationManager: AnimationManager;\n  }) {\n    this.options = options;\n    this._interruptManager = interruptManager;\n    this._eventManager = eventManager;\n    this._axisManager = axisManager;\n    this._animationManager = animationManager;\n  }\n\n  public get(input: InputType): Axis {\n    return this._axisManager.get(input.axes);\n  }\n\n  public hold(input: InputType, event) {\n    if (this._interruptManager.isInterrupted() || !input.axes.length) {\n      return;\n    }\n    const changeOption: ChangeEventOption = {\n      input,\n      event,\n    };\n    this._isStopped = false;\n    this._interruptManager.setInterrupt(true);\n    this._animationManager.stopAnimation(changeOption);\n    if (!this._moveDistance) {\n      this._eventManager.hold(this._axisManager.get(), changeOption);\n    }\n    this._isOutside = this._axisManager.isOutside(input.axes);\n    this._moveDistance = this._axisManager.get(input.axes);\n  }\n\n  public change(input: InputType, event, offset: Axis, useAnimation?: boolean) {\n    if (\n      this._isStopped ||\n      !this._interruptManager.isInterrupting() ||\n      this._axisManager.every(offset, (v) => v === 0)\n    ) {\n      return;\n    }\n    const nativeEvent = event.srcEvent ? event.srcEvent : event;\n    if (nativeEvent.__childrenAxesAlreadyChanged) {\n      return;\n    }\n    let depaPos: Axis = this._moveDistance || this._axisManager.get(input.axes);\n    let destPos: Axis;\n\n    // for outside logic\n    destPos = map(depaPos, (v, k) => v + (offset[k] || 0));\n    if (this._moveDistance) {\n      this._moveDistance = this._axisManager.map(\n        destPos,\n        (v, { circular, range }) =>\n          circular && (circular[0] || circular[1])\n            ? getCirculatedPos(v, range, circular as boolean[])\n            : v\n      );\n    }\n    // from outside to inside\n    if (\n      this._isOutside &&\n      this._axisManager.every(depaPos, (v, opt) => !isOutside(v, opt.range))\n    ) {\n      this._isOutside = false;\n    }\n    depaPos = this._atOutside(depaPos);\n    destPos = this._atOutside(destPos);\n\n    if (!this.options.nested || !this._isEndofAxis(offset, depaPos, destPos)) {\n      nativeEvent.__childrenAxesAlreadyChanged = true;\n    }\n\n    const changeOption: ChangeEventOption = {\n      input,\n      event,\n    };\n    if (useAnimation) {\n      const duration = this._animationManager.getDuration(destPos, depaPos);\n      this._animationManager.animateTo(destPos, duration, changeOption);\n    } else {\n      const isCanceled = !this._eventManager.triggerChange(\n        destPos,\n        depaPos,\n        changeOption,\n        true\n      );\n      if (isCanceled) {\n        this._isStopped = true;\n        this._moveDistance = null;\n        this._animationManager.finish(false);\n      }\n    }\n  }\n\n  public release(\n    input: InputType,\n    event,\n    velocity: number[],\n    inputDuration?: number\n  ) {\n    if (\n      this._isStopped ||\n      !this._interruptManager.isInterrupting() ||\n      !this._moveDistance\n    ) {\n      return;\n    }\n    const nativeEvent = event.srcEvent ? event.srcEvent : event;\n    if (nativeEvent.__childrenAxesAlreadyReleased) {\n      velocity = velocity.map(() => 0);\n    }\n    const pos: Axis = this._axisManager.get(input.axes);\n    const depaPos: Axis = this._axisManager.get();\n    const displacement = this._animationManager.getDisplacement(velocity);\n    const offset = toAxis(input.axes, displacement);\n    let destPos: Axis = this._axisManager.get(\n      this._axisManager.map(offset, (v, opt, k) => {\n        if (opt.circular && (opt.circular[0] || opt.circular[1])) {\n          return pos[k] + v;\n        } else {\n          return getInsidePosition(\n            pos[k] + v,\n            opt.range,\n            opt.circular as boolean[],\n            opt.bounce as number[]\n          );\n        }\n      })\n    );\n    nativeEvent.__childrenAxesAlreadyReleased = true;\n    const duration = this._animationManager.getDuration(\n      destPos,\n      pos,\n      inputDuration\n    );\n\n    if (duration === 0) {\n      destPos = { ...depaPos };\n    }\n    // prepare params\n    const param: AnimationParam = {\n      depaPos,\n      destPos,\n      duration,\n      delta: this._axisManager.getDelta(depaPos, destPos),\n      inputEvent: event,\n      input,\n      isTrusted: true,\n    };\n    this._eventManager.triggerRelease(param);\n    this._moveDistance = null;\n\n    // to contol\n    const userWish = this._animationManager.getUserControl(param);\n    const isEqual = equal(userWish.destPos, depaPos);\n    const changeOption: ChangeEventOption = {\n      input,\n      event,\n    };\n    if (isEqual || userWish.duration === 0) {\n      if (!isEqual) {\n        this._eventManager.triggerChange(\n          userWish.destPos,\n          depaPos,\n          changeOption,\n          true\n        );\n      }\n      this._interruptManager.setInterrupt(false);\n      if (this._axisManager.isOutside()) {\n        this._animationManager.restore(changeOption);\n      } else {\n        this._eventManager.triggerFinish(true);\n      }\n    } else {\n      this._animationManager.animateTo(\n        userWish.destPos,\n        userWish.duration,\n        changeOption\n      );\n    }\n  }\n\n  // when move pointer is held in outside\n  private _atOutside(pos: Axis) {\n    if (this._isOutside) {\n      return this._axisManager.map(pos, (v, opt) => {\n        const tn = opt.range[0] - (opt.bounce[0] as number);\n        const tx = opt.range[1] + (opt.bounce[1] as number);\n        return v > tx ? tx : v < tn ? tn : v;\n      });\n    } else {\n      return this._axisManager.map(pos, (v, opt) => {\n        const min = opt.range[0];\n        const max = opt.range[1];\n        const out = opt.bounce;\n        const circular = opt.circular;\n\n        if ((circular[0] && v < min) || (circular[1] && v > max)) {\n          return v;\n        } else if (v < min) {\n          // left\n          return (\n            min - this._animationManager.interpolate(min - v, out[0] as number)\n          );\n        } else if (v > max) {\n          // right\n          return (\n            max + this._animationManager.interpolate(v - max, out[1] as number)\n          );\n        }\n        return v;\n      });\n    }\n  }\n\n  private _isEndofAxis(offset: Axis, depaPos: Axis, destPos: Axis) {\n    return this._axisManager.every(\n      depaPos,\n      (value, option, key) =>\n        offset[key] === 0 ||\n        (depaPos[key] === destPos[key] &&\n          isEndofBounce(\n            value,\n            option.range,\n            option.bounce as number[],\n            option.circular as boolean[]\n          ))\n    );\n  }\n}\n", "import {\n  getInsidePosition,\n  isCircularable,\n  getCirculatedPos,\n  getDuration,\n} from \"../Coordinate\";\nimport { Axis, AxisManager } from \"../AxisManager\";\nimport { InterruptManager } from \"../InterruptManager\";\nimport { EventManager, ChangeEventOption } from \"../EventManager\";\nimport {\n  requestAnimationFrame,\n  cancelAnimationFrame,\n  map,\n  every,\n  filter,\n  equal,\n  roundNumber,\n  getDecimalPlace,\n  inversePow,\n} from \"../utils\";\nimport { AxesOption } from \"../Axes\";\nimport {\n  AnimationParam,\n  ObjectInterface,\n  UpdateAnimationOption,\n} from \"../types\";\n\nexport interface AnimationState {\n  pos: Axis;\n  easingPer: number;\n  finished: boolean;\n}\n\nconst clamp = (value: number, min: number, max: number): number => {\n  return Math.max(Math.min(value, max), min);\n};\n\nexport abstract class AnimationManager {\n  public interruptManager: InterruptManager;\n  public eventManager: EventManager;\n  public axisManager: AxisManager;\n  protected _options: AxesOption;\n  protected _animateParam: AnimationParam;\n  private _raf: number;\n\n  public constructor({\n    options,\n    interruptManager,\n    eventManager,\n    axisManager,\n  }: {\n    options: AxesOption;\n    interruptManager: InterruptManager;\n    eventManager: EventManager;\n    axisManager: AxisManager;\n  }) {\n    this._options = options;\n    this.interruptManager = interruptManager;\n    this.eventManager = eventManager;\n    this.axisManager = axisManager;\n    this.animationEnd = this.animationEnd.bind(this);\n  }\n\n  public abstract interpolate(displacement: number, threshold: number): number;\n\n  public abstract updateAnimation(options: UpdateAnimationOption): void;\n\n  protected abstract _initState(info: AnimationParam): AnimationState;\n\n  protected abstract _getNextState(prevState: AnimationState): AnimationState;\n\n  public getDuration(\n    depaPos: Axis,\n    destPos: Axis,\n    wishDuration?: number\n  ): number {\n    let duration: number;\n    if (typeof wishDuration !== \"undefined\") {\n      duration = wishDuration;\n    } else {\n      const durations: Axis = map(destPos, (v, k) =>\n        getDuration(Math.abs(v - depaPos[k]), this._options.deceleration)\n      );\n      duration = Object.keys(durations).reduce(\n        (max, v) => Math.max(max, durations[v]),\n        -Infinity\n      );\n    }\n    return clamp(\n      duration,\n      this._options.minimumDuration,\n      this._options.maximumDuration\n    );\n  }\n\n  public getDisplacement(velocity: number[]): number[] {\n    const totalVelocity = Math.pow(\n      velocity.reduce((total, v) => total + v * v, 0),\n      1 / velocity.length\n    );\n    const duration = Math.abs(totalVelocity / -this._options.deceleration);\n    return velocity.map((v) => (v / 2) * duration);\n  }\n\n  public stopAnimation(option?: ChangeEventOption): void {\n    if (this._animateParam) {\n      const orgPos: Axis = this.axisManager.get();\n      const pos: Axis = this.axisManager.map(orgPos, (v, opt) =>\n        getCirculatedPos(v, opt.range, opt.circular as boolean[])\n      );\n      if (!every(pos, (v, k) => orgPos[k] === v)) {\n        this.eventManager.triggerChange(pos, orgPos, option, !!option);\n      }\n      this._animateParam = null;\n      if (this._raf) {\n        cancelAnimationFrame(this._raf);\n      }\n      this._raf = null;\n      this.eventManager.triggerAnimationEnd(!!option?.event);\n    }\n  }\n\n  public getEventInfo(): ChangeEventOption {\n    if (\n      this._animateParam &&\n      this._animateParam.input &&\n      this._animateParam.inputEvent\n    ) {\n      return {\n        input: this._animateParam.input,\n        event: this._animateParam.inputEvent,\n      };\n    } else {\n      return null;\n    }\n  }\n\n  public restore(option: ChangeEventOption): void {\n    const pos: Axis = this.axisManager.get();\n    const destPos: Axis = this.axisManager.map(pos, (v, opt) =>\n      Math.min(opt.range[1], Math.max(opt.range[0], v))\n    );\n    this.stopAnimation();\n    this.animateTo(destPos, this.getDuration(pos, destPos), option);\n  }\n\n  public animationEnd(): void {\n    const beforeParam: ChangeEventOption = this.getEventInfo();\n    this._animateParam = null;\n\n    // for Circular\n    const circularTargets = this.axisManager.filter(\n      this.axisManager.get(),\n      (v, opt) => isCircularable(v, opt.range, opt.circular as boolean[])\n    );\n    if (Object.keys(circularTargets).length > 0) {\n      this.setTo(\n        this.axisManager.map(circularTargets, (v, opt) =>\n          getCirculatedPos(v, opt.range, opt.circular as boolean[])\n        )\n      );\n    }\n    this.interruptManager.setInterrupt(false);\n    this.eventManager.triggerAnimationEnd(!!beforeParam);\n    if (this.axisManager.isOutside()) {\n      this.restore(beforeParam);\n    } else {\n      this.finish(!!beforeParam);\n    }\n  }\n\n  public finish(isTrusted: boolean): void {\n    this._animateParam = null;\n    this.interruptManager.setInterrupt(false);\n    this.eventManager.triggerFinish(isTrusted);\n  }\n\n  public getUserControl(param: AnimationParam): {\n    destPos: Axis;\n    duration: number;\n  } {\n    const userWish = param.setTo();\n    userWish.destPos = this.axisManager.get(userWish.destPos);\n    userWish.duration = clamp(\n      userWish.duration,\n      this._options.minimumDuration,\n      this._options.maximumDuration\n    );\n    return userWish;\n  }\n\n  public animateTo(\n    destPos: Axis,\n    duration: number,\n    option?: ChangeEventOption\n  ): void {\n    this.stopAnimation();\n    const param: AnimationParam = this._createAnimationParam(\n      destPos,\n      duration,\n      option\n    );\n    const depaPos = { ...param.depaPos };\n    const retTrigger = this.eventManager.triggerAnimationStart(param);\n\n    // to control\n    const userWish = this.getUserControl(param);\n\n    // You can't stop the 'animationStart' event when 'circular' is true.\n    if (\n      !retTrigger &&\n      this.axisManager.every(userWish.destPos, (v, opt) =>\n        isCircularable(v, opt.range, opt.circular as boolean[])\n      )\n    ) {\n      console.warn(\n        \"You can't stop the 'animation' event when 'circular' is true.\"\n      );\n    }\n\n    if (retTrigger && !equal(userWish.destPos, depaPos)) {\n      const inputEvent = option?.event || null;\n      this._animateLoop(\n        {\n          depaPos,\n          destPos: userWish.destPos,\n          duration: userWish.duration,\n          delta: this.axisManager.getDelta(depaPos, userWish.destPos),\n          isTrusted: !!inputEvent,\n          inputEvent,\n          input: option?.input || null,\n        },\n        () => this.animationEnd()\n      );\n    }\n  }\n\n  public setTo(pos: Axis, duration: number = 0) {\n    const axes: string[] = Object.keys(pos);\n    const orgPos: Axis = this.axisManager.get(axes);\n\n    if (equal(pos, orgPos)) {\n      return this;\n    }\n    this.interruptManager.setInterrupt(true);\n    let movedPos = filter(pos, (v, k) => orgPos[k] !== v);\n    if (!Object.keys(movedPos).length) {\n      return this;\n    }\n\n    movedPos = this.axisManager.map(movedPos, (v, opt) => {\n      const { range, circular } = opt;\n\n      if (circular && (circular[0] || circular[1])) {\n        return v;\n      } else {\n        return getInsidePosition(v, range, circular as boolean[]);\n      }\n    });\n\n    if (equal(movedPos, orgPos)) {\n      return this;\n    }\n\n    if (duration > 0) {\n      this.animateTo(movedPos, duration);\n    } else {\n      this.stopAnimation();\n      this.eventManager.triggerChange(movedPos);\n      this.finish(false);\n    }\n\n    return this;\n  }\n\n  public setBy(pos: Axis, duration = 0) {\n    return this.setTo(\n      map(this.axisManager.get(Object.keys(pos)), (v, k) => v + pos[k]),\n      duration\n    );\n  }\n\n  private _createAnimationParam(\n    pos: Axis,\n    duration: number,\n    option?: ChangeEventOption\n  ): AnimationParam {\n    const depaPos: Axis = this.axisManager.get();\n    const destPos: Axis = pos;\n    const inputEvent = option?.event || null;\n    return {\n      depaPos,\n      destPos,\n      duration: clamp(\n        duration,\n        this._options.minimumDuration,\n        this._options.maximumDuration\n      ),\n      delta: this.axisManager.getDelta(depaPos, destPos),\n      inputEvent,\n      input: option?.input || null,\n      isTrusted: !!inputEvent,\n      done: this.animationEnd,\n    };\n  }\n\n  private _animateLoop(param: AnimationParam, complete: () => void): void {\n    if (param.duration) {\n      this._animateParam = {\n        ...param,\n        startTime: new Date().getTime(),\n      };\n      const originalIntendedPos = map(param.destPos, (v) => v);\n      let state = this._initState(this._animateParam);\n\n      const loop = () => {\n        this._raf = null;\n        const animateParam = this._animateParam;\n        const nextState = this._getNextState(state);\n        const isCanceled = !this.eventManager.triggerChange(\n          nextState.pos,\n          state.pos\n        );\n\n        state = nextState;\n\n        if (nextState.finished) {\n          animateParam.destPos = this._getFinalPos(\n            animateParam.destPos,\n            originalIntendedPos\n          );\n          if (\n            !equal(\n              animateParam.destPos,\n              this.axisManager.get(Object.keys(animateParam.destPos))\n            )\n          ) {\n            this.eventManager.triggerChange(\n              animateParam.destPos,\n              nextState.pos\n            );\n          }\n          complete();\n          return;\n        } else if (isCanceled) {\n          this.finish(false);\n        } else {\n          this._raf = requestAnimationFrame(loop);\n        }\n      };\n      loop();\n    } else {\n      this.eventManager.triggerChange(param.destPos);\n      complete();\n    }\n  }\n\n  /**\n   * Get estimated final value.\n   *\n   * If destPos is within the 'error range' of the original intended position, the initial intended position is returned.\n   *   - eg. original intended pos: 100, destPos: 100.0000000004 ==> return 100;\n   * If dest Pos is outside the 'range of error' compared to the originally intended pos, it is returned rounded based on the originally intended pos.\n   *   - eg. original intended pos: 100.123 destPos: 50.12345 => return 50.123\n   * @param originalIntendedPos\n   * @param destPos\n   */\n  private _getFinalPos(\n    destPos: ObjectInterface<number>,\n    originalIntendedPos: ObjectInterface<number>\n  ): Axis {\n    // compare destPos and originalIntendedPos\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    const ERROR_LIMIT = 0.000001;\n    const finalPos = map(destPos, (value, key) => {\n      if (\n        value >= originalIntendedPos[key] - ERROR_LIMIT &&\n        value <= originalIntendedPos[key] + ERROR_LIMIT\n      ) {\n        // In error range, return original intended\n        return originalIntendedPos[key];\n      } else {\n        // Out of error range, return rounded pos.\n        const roundUnit = this._getRoundUnit(value, key);\n        const result = roundNumber(value, roundUnit);\n        return result;\n      }\n    });\n    return finalPos;\n  }\n\n  private _getRoundUnit(val: number, key: string): number {\n    const roundUnit = this._options.round; // manual mode\n    let minRoundUnit = null; // auto mode\n\n    // auto mode\n    if (!roundUnit) {\n      // Get minimum round unit\n      const options = this.axisManager.getAxisOptions(key);\n      minRoundUnit = inversePow(\n        Math.max(\n          getDecimalPlace(options.range[0]),\n          getDecimalPlace(options.range[1]),\n          getDecimalPlace(val)\n        )\n      );\n    }\n\n    return minRoundUnit || roundUnit;\n  }\n}\n", "import { AxesOption } from \"../Axes\";\nimport { Axis } from \"../AxisManager\";\nimport { getCirculatedPos } from \"../Coordinate\";\nimport { AnimationParam, UpdateAnimationOption } from \"../types\";\nimport { map } from \"../utils\";\n\nimport { AnimationManager, AnimationState } from \"./AnimationManager\";\n\nexport class EasingManager extends AnimationManager {\n  protected _useDuration = true;\n  protected _options: AxesOption;\n  private _durationOffset: number;\n  private _initialEasingPer: number;\n  private _prevEasingPer: number;\n\n  public interpolate(displacement: number, threshold: number): number {\n    const initSlope = this._easing(0.00001) / 0.00001;\n    return this._easing(displacement / (threshold * initSlope)) * threshold;\n  }\n\n  public updateAnimation(options: UpdateAnimationOption): void {\n    const animateParam = this._animateParam;\n    if (!animateParam) {\n      return;\n    }\n\n    const diffTime = new Date().getTime() - animateParam.startTime;\n    const pos = options?.destPos || animateParam.destPos;\n    const duration = options?.duration ?? animateParam.duration;\n    if (options?.restart || duration <= diffTime) {\n      this.setTo(pos, duration - diffTime);\n      return;\n    }\n    if (options?.destPos) {\n      const currentPos = this.axisManager.get();\n      // When destination is changed, new delta should be calculated as remaining percent.\n      // For example, moving x:0, y:0 to x:200, y:200 and it has current easing percent of 92%. coordinate is x:184 and y:184\n      // If destination changes to x:300, y:300. xdelta:200, ydelta:200 changes to xdelta:116, ydelta:116 and use remaining easingPer as 100%, not 8% as previous.\n      // Therefore, original easingPer by time is kept. And divided by (1 - self._initialEasingPer) which means new total easing percent. Like calculating 8% as 100%.\n      this._initialEasingPer = this._prevEasingPer;\n      animateParam.delta = this.axisManager.getDelta(currentPos, pos);\n      animateParam.destPos = pos;\n    }\n    if (options?.duration) {\n      const ratio = (diffTime + this._durationOffset) / animateParam.duration;\n      // Use durationOffset for keeping animation ratio after duration is changed.\n      // newRatio = (diffTime + newDurationOffset) / newDuration = oldRatio\n      // newDurationOffset = oldRatio * newDuration - diffTime\n      this._durationOffset = ratio * duration - diffTime;\n      animateParam.duration = duration;\n    }\n  }\n\n  protected _initState(info: AnimationParam): AnimationState {\n    this._initialEasingPer = 0;\n    this._prevEasingPer = 0;\n    this._durationOffset = 0;\n    return {\n      pos: info.depaPos,\n      easingPer: 0,\n      finished: false,\n    };\n  }\n\n  protected _getNextState(prevState: AnimationState): AnimationState {\n    const animateParam = this._animateParam;\n    const prevPos = prevState.pos;\n    const destPos = animateParam.destPos;\n    const directions = map(prevPos, (value, key) => {\n      return value <= destPos[key] ? 1 : -1;\n    });\n    const diffTime = new Date().getTime() - animateParam.startTime;\n    const ratio = (diffTime + this._durationOffset) / animateParam.duration;\n    const easingPer = this._easing(ratio);\n\n    const toPos: Axis = this.axisManager.map(prevPos, (pos, options, key) => {\n      const nextPos =\n        ratio >= 1\n          ? destPos[key]\n          : pos +\n            (animateParam.delta[key] * (easingPer - this._prevEasingPer)) /\n              (1 - this._initialEasingPer);\n\n      // Subtract distance from distance already moved.\n      // Recalculate the remaining distance.\n      // Fix the bouncing phenomenon by changing the range.\n      const circulatedPos = getCirculatedPos(\n        nextPos,\n        options.range,\n        options.circular as boolean[]\n      );\n      if (nextPos !== circulatedPos) {\n        // circular\n        const rangeOffset =\n          directions[key] * (options.range[1] - options.range[0]);\n\n        destPos[key] -= rangeOffset;\n        prevPos[key] -= rangeOffset;\n      }\n      return circulatedPos;\n    });\n    this._prevEasingPer = easingPer;\n    return {\n      pos: toPos,\n      easingPer,\n      finished: easingPer >= 1,\n    };\n  }\n\n  private _easing(p: number): number {\n    return p > 1 ? 1 : this._options.easing(p);\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Component from \"@egjs/component\";\nimport { ReactiveSubscribe } from \"@cfcs/core\";\n\nimport { EventManager } from \"./EventManager\";\nimport { InterruptManager } from \"./InterruptManager\";\nimport { AxisManager, AxisOption, Axis } from \"./AxisManager\";\nimport { InputObserver } from \"./InputObserver\";\nimport {\n  TRANSFORM,\n  DIRECTION_NONE,\n  DIRECTION_LEFT,\n  DIRECTION_RIGHT,\n  DIRECTION_UP,\n  DIRECTION_DOWN,\n  DIRECTION_HORIZONTAL,\n  DIRECTION_VERTICAL,\n  DIRECTION_ALL,\n} from \"./const\";\nimport { InputType } from \"./inputType/InputType\";\nimport {\n  AxesEvents,\n  AxesReactiveState,\n  ObjectInterface,\n  UpdateAnimationOption,\n} from \"./types\";\nimport { EasingManager } from \"./animation/EasingManager\";\nimport { AnimationManager } from \"./animation/AnimationManager\";\n\nexport interface AxesOption {\n  easing?: (x: number) => number;\n  maximumDuration?: number;\n  minimumDuration?: number;\n  deceleration?: number;\n  interruptable?: boolean;\n  round?: number;\n  nested?: boolean;\n}\n\n/**\n * @typedef {Object} AxisOption The Axis information. The key of the axis specifies the name to use as the logical virtual coordinate system.\n * @ko 축 정보. 축의 키는 논리적인 가상 좌표계로 사용할 이름을 지정한다.\n * @param {Number[]} [range] The range of coordinate <ko>좌표 범위</ko>\n * @param {Number} [range[0]=0] The coordinate of the minimum <ko>최소 좌표</ko>\n * @param {Number} [range[1]=0] The coordinate of the maximum <ko>최대 좌표</ko>\n * @param {Number} [startPos=range[0]] The coordinates to be moved when creating an instance <ko>인스턴스 생성시 이동할 좌표</ko>\n * @param {Number[]} [bounce] The size of bouncing area. The coordinates can exceed the coordinate area as much as the bouncing area based on user action. If the coordinates does not exceed the bouncing area when an element is dragged, the coordinates where bouncing effects are applied are retuned back into the coordinate area<ko>바운스 영역의 크기. 사용자의 동작에 따라 좌표가 좌표 영역을 넘어 바운스 영역의 크기만큼 더 이동할 수 있다. 사용자가 끌어다 놓는 동작을 했을 때 좌표가 바운스 영역에 있으면, 바운스 효과가 적용된 좌표가 다시 좌표 영역 안으로 들어온다</ko>\n * @param {Number} [bounce[0]=0] The size of coordinate of the minimum area <ko>최소 좌표 바운스 영역의 크기</ko>\n * @param {Number} [bounce[1]=0] The size of coordinate of the maximum area <ko>최대 좌표 바운스 영역의 크기</ko>\n * @param {Boolean[]} [circular] Indicates whether a circular element is available. If it is set to \"true\" and an element is dragged outside the coordinate area, the element will appear on the other side.<ko>순환 여부. 'true'로 설정한 방향의 좌표 영역 밖으로 엘리먼트가 이동하면 반대 방향에서 엘리먼트가 나타난다</ko>\n * @param {Boolean} [circular[0]=false] Indicates whether to circulate to the coordinate of the minimum <ko>최소 좌표 방향의 순환 여부</ko>\n * @param {Boolean} [circular[1]=false] Indicates whether to circulate to the coordinate of the maximum <ko>최대 좌표 방향의 순환 여부</ko>\n **/\n\n/**\n * @typedef {Object} AxesOption The option object of the eg.Axes module\n * @ko eg.Axes 모듈의 옵션 객체\n * @param {Function} [easing=easing.easeOutCubic] The easing function to apply to an animation <ko>애니메이션에 적용할 easing 함수</ko>\n * @param {Number} [maximumDuration=Infinity] Maximum duration of the animation <ko>가속도에 의해 애니메이션이 동작할 때의 최대 좌표 이동 시간</ko>\n * @param {Number} [minimumDuration=0] Minimum duration of the animation <ko>가속도에 의해 애니메이션이 동작할 때의 최소 좌표 이동 시간</ko>\n * @param {Number} [deceleration=0.0006] Deceleration of the animation where acceleration is manually enabled by user. A higher value indicates shorter running time. <ko>사용자의 동작으로 가속도가 적용된 애니메이션의 감속도. 값이 높을수록 애니메이션 실행 시간이 짧아진다</ko>\n * @param {Boolean} [interruptable=true] Indicates whether an animation is interruptible.\n * - true: It can be paused or stopped by user action or the API.\n * - false: It cannot be paused or stopped by user action or the API while it is running.\n * <ko>진행 중인 애니메이션 중지 가능 여부.\n * - true: 사용자의 동작이나 API로 애니메이션을 중지할 수 있다.\n * - false: 애니메이션이 진행 중일 때는 사용자의 동작이나 API가 적용되지 않는다</ko>\n * @param {Number} [round=null] Rounding unit. For example, 0.1 rounds to 0.1 decimal point(6.1234 => 6.1), 5 rounds to 5 (93 => 95)\n * [Details](https://github.com/naver/egjs-axes/wiki/round-option)<ko>반올림 단위. 예를 들어 0.1 은 소숫점 0.1 까지 반올림(6.1234 => 6.1), 5 는 5 단위로 반올림(93 => 95).\n * [상세내용](https://github.com/naver/egjs-axes/wiki/round-option)</ko>\n * @param {Boolean} [nested=false] Whether the event propagates to other instances when the coordinates reach the end of the movable area <ko>좌표가 이동 가능한 영역의 끝까지 도달했을 때 다른 인스턴스들로의 이벤트 전파 여부</ko>\n **/\n\n/**\n * A module used to change the information of user action entered by various input devices such as touch screen or mouse into the logical virtual coordinates. You can easily create a UI that responds to user actions.\n * @ko 터치 입력 장치나 마우스와 같은 다양한 입력 장치를 통해 전달 받은 사용자의 동작을 논리적인 가상 좌표로 변경하는 모듈이다. 사용자 동작에 반응하는 UI를 손쉽게 만들수 있다.\n * @extends eg.Component\n *\n * @param {Object.<string, AxisOption>} axis Axis information managed by eg.Axes. The key of the axis specifies the name to use as the logical virtual coordinate system.  <ko>eg.Axes가 관리하는 축 정보. 축의 키는 논리적인 가상 좌표계로 사용할 이름을 지정한다.</ko>\n * @param {AxesOption} [options={}] The option object of the eg.Axes module<ko>eg.Axes 모듈의 옵션 객체</ko>\n * @param {Object.<string, number>} [startPos={}] The coordinates to be moved when creating an instance. It is applied with higher priority than startPos of axisOption.<ko>인스턴스 생성시 이동할 좌표, axisOption의 startPos보다 높은 우선순위로 적용된다.</ko>\n *\n * @support {\"ie\": \"10+\", \"ch\" : \"latest\", \"ff\" : \"latest\",  \"sf\" : \"latest\", \"edge\" : \"latest\", \"ios\" : \"7+\", \"an\" : \"2.3+ (except 3.x)\"}\n * @example\n * ```js\n * // 1. Initialize eg.Axes\n * const axes = new eg.Axes({\n *  something1: {\n *    range: [0, 150],\n *    bounce: 50\n *  },\n *  something2: {\n *    range: [0, 200],\n *    bounce: 100\n *  },\n *  somethingN: {\n *    range: [1, 10],\n *  }\n * }, {\n *  deceleration : 0.0024\n * });\n *\n * // 2. attach event handler\n * axes.on({\n *  \"hold\" : function(evt) {\n *  },\n *  \"release\" : function(evt) {\n *  },\n *  \"animationStart\" : function(evt) {\n *  },\n *  \"animationEnd\" : function(evt) {\n *  },\n *  \"change\" : function(evt) {\n *  }\n * });\n *\n * // 3. Initialize inputTypes\n * const panInputArea = new eg.Axes.PanInput(\"#area\", {\n *  scale: [0.5, 1]\n * });\n * const panInputHmove = new eg.Axes.PanInput(\"#hmove\");\n * const panInputVmove = new eg.Axes.PanInput(\"#vmove\");\n * const pinchInputArea = new eg.Axes.PinchInput(\"#area\", {\n *  scale: 1.5\n * });\n *\n * // 4. Connect eg.Axes and InputTypes\n * // [PanInput] When the mouse or touchscreen is down and moved.\n * // Connect the 'something2' axis to the mouse or touchscreen x position and\n * // connect the 'somethingN' axis to the mouse or touchscreen y position.\n * axes.connect([\"something2\", \"somethingN\"], panInputArea); // or axes.connect(\"something2 somethingN\", panInputArea);\n *\n * // Connect only one 'something1' axis to the mouse or touchscreen x position.\n * axes.connect([\"something1\"], panInputHmove); // or axes.connect(\"something1\", panInputHmove);\n *\n * // Connect only one 'something2' axis to the mouse or touchscreen y position.\n * axes.connect([\"\", \"something2\"], panInputVmove); // or axes.connect(\" something2\", panInputVmove);\n *\n * // [PinchInput] Connect 'something2' axis when two pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * axes.connect(\"something2\", pinchInputArea);\n * ```\n */\n@ReactiveSubscribe\nclass Axes extends Component<AxesEvents> {\n  /**\n   * @name VERSION\n   * @desc Version info string\n   * @ko 버전정보 문자열\n   *\n   * @constant\n   * @type {String}\n   * @example\n   * ```js\n   * eg.Axes.VERSION;  // ex) 3.3.3\n   * ```\n   */\n  public static VERSION = \"#__VERSION__#\";\n  /* eslint-disable */\n  // for tree shaking\n  public static PanInput;\n  public static PinchInput;\n  public static WheelInput;\n  public static MoveKeyInput;\n  public static RotatePanInput;\n  /* eslint-enable */\n\n  /**\n   * @name TRANSFORM\n   * @desc Returns the transform attribute with CSS vendor prefixes.\n   * @ko CSS vendor prefixes를 붙인 transform 속성을 반환한다.\n   *\n   * @constant\n   * @type {String}\n   * @example\n   * ```js\n   * eg.Axes.TRANSFORM; // \"transform\" or \"webkitTransform\"\n   * ```\n   */\n  public static TRANSFORM = TRANSFORM;\n  /**\n   * @name DIRECTION_NONE\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_NONE = DIRECTION_NONE;\n  /**\n   * @name DIRECTION_LEFT\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_LEFT = DIRECTION_LEFT;\n  /**\n   * @name DIRECTION_RIGHT\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_RIGHT = DIRECTION_RIGHT;\n  /**\n   * @name DIRECTION_UP\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_UP = DIRECTION_UP;\n  /**\n   * @name DIRECTION_DOWN\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_DOWN = DIRECTION_DOWN;\n  /**\n   * @name DIRECTION_HORIZONTAL\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_HORIZONTAL = DIRECTION_HORIZONTAL;\n  /**\n   * @name DIRECTION_VERTICAL\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_VERTICAL = DIRECTION_VERTICAL;\n  /**\n   * @name DIRECTION_ALL\n   * @constant\n   * @type {Number}\n   */\n  public static DIRECTION_ALL = DIRECTION_ALL;\n\n  public options: AxesOption;\n  public eventManager: EventManager;\n  public axisManager: AxisManager;\n  public interruptManager: InterruptManager;\n  public animationManager: AnimationManager;\n  public inputObserver: InputObserver;\n  private _inputs: InputType[] = [];\n\n  /**\n   *\n   */\n  public constructor(\n    public axis: ObjectInterface<AxisOption> = {},\n    options: AxesOption = {},\n    startPos: Axis = {}\n  ) {\n    super();\n    this.options = {\n      ...{\n        easing: (x) => {\n          return 1 - Math.pow(1 - x, 3);\n        },\n        interruptable: true,\n        maximumDuration: Infinity,\n        minimumDuration: 0,\n        deceleration: 0.0006,\n        round: null,\n        nested: false,\n      },\n      ...options,\n    };\n    Object.keys(startPos).forEach((key) => {\n      this.axis[key].startPos = startPos[key];\n    });\n\n    this.interruptManager = new InterruptManager(this.options);\n    this.axisManager = new AxisManager(this.axis);\n    this.eventManager = new EventManager(this);\n    this.animationManager = new EasingManager(this);\n    this.inputObserver = new InputObserver(this);\n    this.eventManager.setAnimationManager(this.animationManager);\n    this.eventManager.triggerChange(this.axisManager.get());\n  }\n\n  /**\n   * Connect the axis of eg.Axes to the inputType.\n   * @ko eg.Axes의 축과 inputType을 연결한다\n   * @param {(String[]|String)} axes The name of the axis to associate with inputType <ko>inputType과 연결할 축의 이름</ko>\n   * @param {Object} inputType The inputType instance to associate with the axis of eg.Axes <ko>eg.Axes의 축과 연결할 inputType 인스턴스</ko>\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"xOther\": {\n   *      range: [-100, 100]\n   *   }\n   * });\n   *\n   * axes.connect(\"x\", new eg.Axes.PanInput(\"#area1\"))\n   *    .connect(\"x xOther\", new eg.Axes.PanInput(\"#area2\"))\n   *    .connect(\" xOther\", new eg.Axes.PanInput(\"#area3\"))\n   *    .connect([\"x\"], new eg.Axes.PanInput(\"#area4\"))\n   *    .connect([\"xOther\", \"x\"], new eg.Axes.PanInput(\"#area5\"))\n   *    .connect([\"\", \"xOther\"], new eg.Axes.PanInput(\"#area6\"));\n   * ```\n   */\n  public connect(axes: string[] | string, inputType: InputType) {\n    let mapped: string[];\n    if (typeof axes === \"string\") {\n      mapped = axes.split(\" \");\n    } else {\n      mapped = axes.concat();\n    }\n\n    // check same instance\n    if (~this._inputs.indexOf(inputType)) {\n      this.disconnect(inputType);\n    }\n\n    inputType.mapAxes(mapped);\n    inputType.connect(this.inputObserver);\n    this._inputs.push(inputType);\n    return this;\n  }\n\n  /**\n   * Disconnect the axis of eg.Axes from the inputType.\n   * @ko eg.Axes의 축과 inputType의 연결을 끊는다.\n   * @param {Object} [inputType] An inputType instance associated with the axis of eg.Axes <ko>eg.Axes의 축과 연결한 inputType 인스턴스</ko>\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"xOther\": {\n   *      range: [-100, 100]\n   *   }\n   * });\n   *\n   * const input1 = new eg.Axes.PanInput(\"#area1\");\n   * const input2 = new eg.Axes.PanInput(\"#area2\");\n   * const input3 = new eg.Axes.PanInput(\"#area3\");\n   *\n   * axes.connect(\"x\", input1);\n   *    .connect(\"x xOther\", input2)\n   *    .connect([\"xOther\", \"x\"], input3);\n   *\n   * axes.disconnect(input1); // disconnects input1\n   * axes.disconnect(); // disconnects all of them\n   * ```\n   */\n  public disconnect(inputType?: InputType) {\n    if (inputType) {\n      const index = this._inputs.indexOf(inputType);\n\n      if (index >= 0) {\n        this._inputs[index].disconnect();\n        this._inputs.splice(index, 1);\n      }\n    } else {\n      this._inputs.forEach((v) => v.disconnect());\n      this._inputs = [];\n    }\n    return this;\n  }\n\n  /**\n   * Returns the current position of the coordinates.\n   * @ko 좌표의 현재 위치를 반환한다\n   * @param {Object} [axes] The names of the axis <ko>축 이름들</ko>\n   * @return {Object.<string, number>} Axis coordinate information <ko>축 좌표 정보</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"xOther\": {\n   *      range: [-100, 100]\n   *   },\n   *    \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * });\n   *\n   * axes.get(); // {\"x\": 0, \"xOther\": -100, \"zoom\": 50}\n   * axes.get([\"x\", \"zoom\"]); // {\"x\": 0, \"zoom\": 50}\n   * ```\n   */\n  public get(axes?: string[]) {\n    return this.axisManager.get(axes);\n  }\n\n  /**\n   * Moves an axis to specific coordinates.\n   * @ko 좌표를 이동한다.\n   * @param {Object.<string, number>} pos The coordinate to move to <ko>이동할 좌표</ko>\n   * @param {Number} [duration=0] Duration of the animation (unit: ms) <ko>애니메이션 진행 시간(단위: ms)</ko>\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"xOther\": {\n   *      range: [-100, 100]\n   *   },\n   *    \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * });\n   *\n   * axes.setTo({\"x\": 30, \"zoom\": 60});\n   * axes.get(); // {\"x\": 30, \"xOther\": -100, \"zoom\": 60}\n   *\n   * axes.setTo({\"x\": 100, \"xOther\": 60}, 1000); // animatation\n   *\n   * // after 1000 ms\n   * axes.get(); // {\"x\": 100, \"xOther\": 60, \"zoom\": 60}\n   * ```\n   */\n  public setTo(pos: Axis, duration = 0) {\n    this.animationManager.setTo(pos, duration);\n    return this;\n  }\n\n  /**\n   * Moves an axis from the current coordinates to specific coordinates.\n   * @ko 현재 좌표를 기준으로 좌표를 이동한다.\n   * @param {Object.<string, number>} pos The coordinate to move to <ko>이동할 좌표</ko>\n   * @param {Number} [duration=0] Duration of the animation (unit: ms) <ko>애니메이션 진행 시간(단위: ms)</ko>\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"xOther\": {\n   *      range: [-100, 100]\n   *   },\n   *    \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * });\n   *\n   * axes.setBy({\"x\": 30, \"zoom\": 10});\n   * axes.get(); // {\"x\": 30, \"xOther\": -100, \"zoom\": 60}\n   *\n   * axes.setBy({\"x\": 70, \"xOther\": 60}, 1000); // animatation\n   *\n   * // after 1000 ms\n   * axes.get(); // {\"x\": 100, \"xOther\": -40, \"zoom\": 60}\n   * ```\n   */\n  public setBy(pos: Axis, duration = 0) {\n    this.animationManager.setBy(pos, duration);\n    return this;\n  }\n\n  /**\n   * Change the options of Axes instance.\n   * @ko 인스턴스의 옵션을 변경한다.\n   * @param {AxesOption} options Axes options to change <ko>변경할 옵션 목록</ko>\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   * }, {\n   *   round: 10,\n   * });\n   *\n   * axes.setTo({\"x\": 48});\n   * axes.get(); // {\"x\": 50}\n   *\n   * axes.setOptions({\n   *   round: 1,\n   * });\n   *\n   * axes.setTo({\"x\": 48});\n   * axes.get(); // {\"x\": 48}\n   * ```\n   */\n  public setOptions(options: AxesOption) {\n      this.options = {\n      ...this.options,\n      ...options,\n    };\n    return this;\n  }\n\n  /**\n   * Change the information of an existing axis.\n   * @ko 존재하는 축의 정보를 변경한다.\n   * @param {Object.<string, AxisOption>} axis Axis options to change <ko>변경할 축의 정보</ko>\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   * });\n   *\n   * axes.setTo({\"x\": 150});\n   * axes.get(); // {\"x\": 100}\n   *\n   * axes.setAxis({\n   *   \"x\": {\n   *      range: [0, 200]\n   *   },\n   * });\n   *\n   * axes.setTo({\"x\": 150});\n   * axes.get(); // {\"x\": 150}\n   * ```\n   */\n  public setAxis(axis: ObjectInterface<AxisOption>) {\n    this.axisManager.setAxis(axis);\n    return this;\n  }\n\n  /**\n   * Stop an animation in progress.\n   * @ko 재생 중인 애니메이션을 정지한다.\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   * });\n   *\n   * axes.setTo({\"x\": 10}, 1000); // start animatation\n   *\n   * // after 500 ms\n   * axes.stopAnimation(); // stop animation during movement.\n   * ```\n   */\n  public stopAnimation() {\n    this.animationManager.stopAnimation();\n    this.animationManager.finish(false);\n    return this;\n  }\n\n  /**\n   * Change the destination of an animation in progress.\n   * @ko 재생 중인 애니메이션의 목적지와 진행 시간을 변경한다.\n   * @param {UpdateAnimationOption} pos The coordinate to move to <ko>이동할 좌표</ko>\n   * @return {eg.Axes} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 200]\n   *   },\n   *   \"y\": {\n   *      range: [0, 200]\n   *   }\n   * });\n   *\n   * axes.setTo({\"x\": 50, \"y\": 50}, 1000); // trigger animation by setTo\n   *\n   * // after 500 ms\n   * axes.updateAnimation({destPos: {\"x\": 100, \"y\": 100}}); // animation will end after 500 ms, at {\"x\": 100, \"y\": 100}\n   *\n   * // after 500 ms\n   * axes.setTo({\"x\": 50, \"y\": 50}, 1000); // trigger animation by setTo\n   *\n   * // after 700 ms\n   * axes.updateAnimation({destPos: {\"x\": 100, \"y\": 100}, duration: 1500, restart: true}); // this works same as axes.setTo({\"x\": 100, \"y\": 100}, 800) since restart is true.\n   * ```\n   */\n  public updateAnimation(options: UpdateAnimationOption) {\n    this.animationManager.updateAnimation(options);\n    return this;\n  }\n\n  /**\n   * Returns whether there is a coordinate in the bounce area of ​​the target axis.\n   * @ko 대상 축 중 bounce영역에 좌표가 존재하는지를 반환한다\n   * @param {Object} [axes] The names of the axis <ko>축 이름들</ko>\n   * @return {Boolen} Whether the bounce area exists. <ko>bounce 영역 존재 여부</ko>\n   * @example\n   * ```js\n   * const axes = new eg.Axes({\n   *   \"x\": {\n   *      range: [0, 100]\n   *   },\n   *   \"xOther\": {\n   *      range: [-100, 100]\n   *   },\n   *    \"zoom\": {\n   *      range: [50, 30]\n   *   }\n   * });\n   *\n   * axes.isBounceArea([\"x\"]);\n   * axes.isBounceArea([\"x\", \"zoom\"]);\n   * axes.isBounceArea();\n   * ```\n   */\n  public isBounceArea(axes?: string[]) {\n    return this.axisManager.isOutside(axes);\n  }\n\n  /**\n   * Destroys properties, and events used in a module and disconnect all connections to inputTypes.\n   * @ko 모듈에 사용한 속성, 이벤트를 해제한다. 모든 inputType과의 연결을 끊는다.\n   */\n  public destroy() {\n    this.disconnect();\n    this.eventManager.destroy();\n  }\n}\n\ninterface Axes\n  extends AxesReactiveState,\n    ReactiveSubscribe<AxesReactiveState> {}\n\nexport default Axes;\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\n/* eslint-disable @typescript-eslint/no-empty-function */\n\nimport {\n  $,\n  isCssPropsFromAxes,\n  setCssProps,\n  revertCssProps,\n  useDirection,\n  getDirection,\n} from \"../utils\";\nimport {\n  IS_IOS_SAFARI,\n  IOS_EDGE_THRESHOLD,\n  DIRECTION_NONE,\n  DIRECTION_VERTICAL,\n  DIRECTION_HORIZONTAL,\n  MOUSE_LEFT,\n  ANY,\n} from \"../const\";\nimport { ActiveEvent, ElementType, InputEventType } from \"../types\";\n\nimport {\n  convertInputType,\n  getAddEventOptions,\n  InputType,\n  InputTypeObserver,\n  toAxis,\n} from \"./InputType\";\n\nexport interface PanInputOption {\n  inputType?: string[];\n  inputKey?: string[];\n  inputButton?: string[];\n  scale?: number[];\n  thresholdAngle?: number;\n  threshold?: number;\n  preventClickOnDrag?: boolean;\n  iOSEdgeSwipeThreshold?: number;\n  releaseOnScroll?: boolean;\n  touchAction?: string;\n}\n\n// get user's direction\nexport const getDirectionByAngle = (\n  angle: number,\n  thresholdAngle: number\n): number => {\n  if (thresholdAngle < 0 || thresholdAngle > 90) {\n    return DIRECTION_NONE;\n  }\n  const toAngle = Math.abs(angle);\n\n  return toAngle > thresholdAngle && toAngle < 180 - thresholdAngle\n    ? DIRECTION_VERTICAL\n    : DIRECTION_HORIZONTAL;\n};\n\n/**\n * @typedef {Object} PanInputOption The option object of the eg.Axes.PanInput module.\n * @ko eg.Axes.PanInput 모듈의 옵션 객체\n * @param {String[]} [inputType=[\"touch\", \"mouse\", \"pointer\"]] Types of input devices\n * - touch: Touch screen\n * - mouse: Mouse\n * - pointer: Mouse and touch <ko>입력 장치 종류\n * - touch: 터치 입력 장치\n * - mouse: 마우스\n * - pointer: 마우스 및 터치</ko>\n * @param {String[]} [inputKey=[\"any\"]] List of key combinations to allow input\n * - any: any key\n * - shift: shift key\n * - ctrl: ctrl key and pinch gesture on the trackpad\n * - alt: alt key\n * - meta: meta key\n * - none: none of these keys are pressed <ko>입력을 허용할 키 조합 목록\n * - any: 아무 키\n * - shift: shift 키\n * - ctrl: ctrl 키 및 트랙패드의 pinch 제스쳐\n * - alt: alt 키\n * - meta: meta 키\n * - none: 아무 키도 눌리지 않은 상태 </ko>\n * @param {String[]} [inputButton=[\"left\"]] List of buttons to allow input\n * - left: Left mouse button and normal touch\n * - middle: Mouse wheel press\n * - right: Right mouse button <ko>입력을 허용할 버튼 목록\n * - left: 마우스 왼쪽 버튼\n * - middle: 마우스 휠 눌림\n * - right: 마우스 오른쪽 버튼 </ko>\n * @param {Number[]} [scale] Coordinate scale that a user can move<ko>사용자의 동작으로 이동하는 좌표의 배율</ko>\n * @param {Number} [scale[0]=1] horizontal axis scale <ko>수평축 배율</ko>\n * @param {Number} [scale[1]=1] vertical axis scale <ko>수직축 배율</ko>\n * @param {Number} [thresholdAngle=45] The threshold value that determines whether user action is horizontal or vertical (0~90) <ko>사용자의 동작이 가로 방향인지 세로 방향인지 판단하는 기준 각도(0~90)</ko>\n * @param {Number} [threshold=0] Minimal pan distance required before recognizing <ko>사용자의 Pan 동작을 인식하기 위해산 최소한의 거리</ko>\n * @param {Boolean} [preventClickOnDrag=false] Whether to cancel the {@link https://developer.mozilla.org/en/docs/Web/API/Element/click_event click} event when the user finishes dragging more than 1 pixel <ko>사용자가 1픽셀 이상 드래그를 마쳤을 때 {@link https://developer.mozilla.org/ko/docs/Web/API/Element/click_event click} 이벤트 취소 여부</ko>\n * @param {Number} [iOSEdgeSwipeThreshold=30] Area (px) that can go to the next page when swiping the right edge in iOS safari <ko>iOS Safari에서 오른쪽 엣지를 스와이프 하는 경우 다음 페이지로 넘어갈 수 있는 영역(px)</ko>\n * @param {String} [touchAction=null] Value that overrides the element's \"touch-action\" css property. If set to null, it is automatically set to prevent scrolling in the direction of the connected axis. <ko>엘리먼트의 \"touch-action\" CSS 속성을 덮어쓰는 값. 만약 null로 설정된 경우, 연결된 축 방향으로의 스크롤을 방지하게끔 자동으로 설정된다.</ko>\n **/\n/**\n * A module that passes the amount of change to eg.Axes when the mouse or touchscreen is down and moved. use less than two axes.\n * @ko 마우스나 터치 스크린을 누르고 움직일때의 변화량을 eg.Axes에 전달하는 모듈. 두개 이하의 축을 사용한다.\n *\n * @example\n * ```js\n * const pan = new eg.Axes.PanInput(\"#area\", {\n *     inputType: [\"touch\"],\n *     scale: [1, 1.3],\n * });\n *\n * // Connect the 'something2' axis to the mouse or touchscreen x position when the mouse or touchscreen is down and moved.\n * // Connect the 'somethingN' axis to the mouse or touchscreen y position when the mouse or touchscreen is down and moved.\n * axes.connect([\"something2\", \"somethingN\"], pan); // or axes.connect(\"something2 somethingN\", pan);\n *\n * // Connect only one 'something1' axis to the mouse or touchscreen x position when the mouse or touchscreen is down and moved.\n * axes.connect([\"something1\"], pan); // or axes.connect(\"something1\", pan);\n *\n * // Connect only one 'something2' axis to the mouse or touchscreen y position when the mouse or touchscreen is down and moved.\n * axes.connect([\"\", \"something2\"], pan); // or axes.connect(\" something2\", pan);\n * ```\n * @param {String|HTMLElement|Ref<HTMLElement>|jQuery} element An element to use the eg.Axes.PanInput module <ko>eg.Axes.PanInput 모듈을 사용할 엘리먼트</ko>\n * @param {PanInputOption} [options={}] The option object of the eg.Axes.PanInput module<ko>eg.Axes.PanInput 모듈의 옵션 객체</ko>\n */\nexport class PanInput implements InputType {\n  public options: PanInputOption;\n  public axes: string[] = [];\n  public element: HTMLElement = null;\n  protected _observer: InputTypeObserver;\n  protected _direction: number;\n  protected _enabled = false;\n  protected _activeEvent: ActiveEvent = null;\n  private _originalCssProps: { [key: string]: string };\n  private _atRightEdge = false;\n  private _rightEdgeTimer = 0;\n  private _dragged = false;\n  private _isOverThreshold = false;\n\n  /**\n   *\n   */\n  public constructor(el: ElementType, options?: PanInputOption) {\n    this.element = $(el);\n    this.options = {\n      inputType: [\"touch\", \"mouse\", \"pointer\"],\n      inputKey: [ANY],\n      inputButton: [MOUSE_LEFT],\n      scale: [1, 1],\n      thresholdAngle: 45,\n      threshold: 0,\n      preventClickOnDrag: false,\n      iOSEdgeSwipeThreshold: IOS_EDGE_THRESHOLD,\n      releaseOnScroll: false,\n      touchAction: null,\n      ...options,\n    };\n    this._onPanstart = this._onPanstart.bind(this);\n    this._onPanmove = this._onPanmove.bind(this);\n    this._onPanend = this._onPanend.bind(this);\n  }\n\n  public mapAxes(axes: string[]) {\n    this._direction = getDirection(!!axes[0], !!axes[1]);\n    this.axes = axes;\n  }\n\n  public connect(observer: InputTypeObserver): InputType {\n    if (this._activeEvent) {\n      this._detachElementEvent();\n      this._detachWindowEvent(this._activeEvent);\n    }\n    this._attachElementEvent(observer);\n    this._originalCssProps = setCssProps(\n      this.element,\n      this.options,\n      this._direction\n    );\n    return this;\n  }\n\n  public disconnect() {\n    this._detachElementEvent();\n    this._detachWindowEvent(this._activeEvent);\n    if (!isCssPropsFromAxes(this._originalCssProps)) {\n      revertCssProps(this.element, this._originalCssProps);\n    }\n    this._direction = DIRECTION_NONE;\n    return this;\n  }\n\n  /**\n   * Destroys elements, properties, and events used in a module.\n   * @ko 모듈에 사용한 엘리먼트와 속성, 이벤트를 해제한다.\n   */\n  public destroy() {\n    this.disconnect();\n    this.element = null;\n  }\n\n  /**\n   * Enables input devices\n   * @ko 입력 장치를 사용할 수 있게 한다\n   * @return {PanInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public enable() {\n    this._enabled = true;\n    return this;\n  }\n\n  /**\n   * Disables input devices\n   * @ko 입력 장치를 사용할 수 없게 한다.\n   * @return {PanInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public disable() {\n    this._enabled = false;\n    return this;\n  }\n\n  /**\n   * Returns whether to use an input device\n   * @ko 입력 장치 사용 여부를 반환한다.\n   * @return {Boolean} Whether to use an input device <ko>입력장치 사용여부</ko>\n   */\n  public isEnabled() {\n    return this._enabled;\n  }\n\n  /**\n   * Releases current user input.\n   * @ko 사용자의 입력을 강제로 중단시킨다.\n   * @return {PanInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public release() {\n    const activeEvent = this._activeEvent;\n    const prevEvent = activeEvent.prevEvent;\n    activeEvent.onRelease();\n    this._observer.release(this, prevEvent, [0, 0]);\n    this._detachWindowEvent(activeEvent);\n    return this;\n  }\n\n  protected _onPanstart(event: InputEventType) {\n    const { inputKey, inputButton } = this.options;\n    const activeEvent = this._activeEvent;\n    const panEvent = activeEvent.onEventStart(event, inputKey, inputButton);\n    if (\n      !panEvent ||\n      !this._enabled ||\n      activeEvent.getTouches(event, inputButton) > 1\n    ) {\n      return;\n    }\n    if (panEvent.srcEvent.cancelable !== false) {\n      const edgeThreshold = this.options.iOSEdgeSwipeThreshold;\n\n      this._dragged = false;\n      this._isOverThreshold = false;\n      this._observer.hold(this, panEvent);\n      this._atRightEdge =\n        IS_IOS_SAFARI && panEvent.center.x > window.innerWidth - edgeThreshold;\n      this._attachWindowEvent(activeEvent);\n      activeEvent.prevEvent = panEvent;\n    }\n  }\n\n  protected _onPanmove(event: InputEventType) {\n    const {\n      iOSEdgeSwipeThreshold,\n      preventClickOnDrag,\n      releaseOnScroll,\n      inputKey,\n      inputButton,\n      threshold,\n      thresholdAngle,\n    } = this.options;\n    const activeEvent = this._activeEvent;\n    const panEvent = activeEvent.onEventMove(event, inputKey, inputButton);\n    const touches = activeEvent.getTouches(event, inputButton);\n\n    if (\n      touches === 0 ||\n      (releaseOnScroll && panEvent && !panEvent.srcEvent.cancelable)\n    ) {\n      this._onPanend(event);\n      return;\n    }\n\n    if (!panEvent || !this._enabled || touches > 1) {\n      return;\n    }\n\n    const userDirection = getDirectionByAngle(panEvent.angle, thresholdAngle);\n    const useHorizontal = useDirection(\n      DIRECTION_HORIZONTAL,\n      this._direction,\n      userDirection\n    );\n    const useVertical = useDirection(\n      DIRECTION_VERTICAL,\n      this._direction,\n      userDirection\n    );\n\n    if (activeEvent.prevEvent && IS_IOS_SAFARI) {\n      const swipeLeftToRight = panEvent.center.x < 0;\n\n      if (swipeLeftToRight) {\n        // iOS swipe left => right\n        this.release();\n        return;\n      } else if (this._atRightEdge) {\n        clearTimeout(this._rightEdgeTimer);\n\n        // - is right to left\n        const swipeRightToLeft = panEvent.deltaX < -iOSEdgeSwipeThreshold;\n\n        if (swipeRightToLeft) {\n          this._atRightEdge = false;\n        } else {\n          // iOS swipe right => left\n          this._rightEdgeTimer = window.setTimeout(() => this.release(), 100);\n        }\n      }\n    }\n    const distance = this._getDistance(\n      [panEvent.deltaX, panEvent.deltaY],\n      [useHorizontal, useVertical]\n    );\n    const offset = this._getOffset(\n      [panEvent.offsetX, panEvent.offsetY],\n      [useHorizontal, useVertical]\n    );\n    const prevent = offset.some((v) => v !== 0);\n\n    if (prevent) {\n      if (panEvent.srcEvent.cancelable !== false) {\n        panEvent.srcEvent.preventDefault();\n      }\n      panEvent.srcEvent.stopPropagation();\n    }\n    panEvent.preventSystemEvent = prevent;\n    if (prevent && (this._isOverThreshold || distance >= threshold)) {\n      this._dragged = preventClickOnDrag;\n      this._isOverThreshold = true;\n      this._observer.change(this, panEvent, toAxis(this.axes, offset));\n    }\n    activeEvent.prevEvent = panEvent;\n  }\n\n  protected _onPanend(event: InputEventType) {\n    const inputButton = this.options.inputButton;\n    const activeEvent = this._activeEvent;\n    activeEvent.onEventEnd(event);\n    if (!this._enabled || activeEvent.getTouches(event, inputButton) !== 0) {\n      return;\n    }\n    this._detachWindowEvent(activeEvent);\n    clearTimeout(this._rightEdgeTimer);\n    const prevEvent = activeEvent.prevEvent;\n    const velocity = this._isOverThreshold ? this._getOffset(\n      [\n        Math.abs(prevEvent.velocityX) * (prevEvent.offsetX < 0 ? -1 : 1),\n        Math.abs(prevEvent.velocityY) * (prevEvent.offsetY < 0 ? -1 : 1),\n      ],\n      [\n        useDirection(DIRECTION_HORIZONTAL, this._direction),\n        useDirection(DIRECTION_VERTICAL, this._direction),\n      ]\n    ) : [0, 0];\n    activeEvent.onRelease();\n    this._observer.release(this, prevEvent, velocity);\n  }\n\n  protected _attachWindowEvent(activeEvent: ActiveEvent) {\n    activeEvent?.move.forEach((event) => {\n      window.addEventListener(event, this._onPanmove, getAddEventOptions(event));\n    });\n    activeEvent?.end.forEach((event) => {\n      window.addEventListener(event, this._onPanend, getAddEventOptions(event));\n    });\n  }\n\n  protected _detachWindowEvent(activeEvent: ActiveEvent) {\n    activeEvent?.move.forEach((event) => {\n      window.removeEventListener(event, this._onPanmove);\n    });\n    activeEvent?.end.forEach((event) => {\n      window.removeEventListener(event, this._onPanend);\n    });\n  }\n\n  protected _getOffset(properties: number[], direction: boolean[]): number[] {\n    const scale = this.options.scale;\n    return [\n      direction[0] ? properties[0] * scale[0] : 0,\n      direction[1] ? properties[1] * scale[1] : 0,\n    ];\n  }\n\n  private _getDistance(delta: number[], direction: boolean[]): number {\n    return Math.sqrt(\n      Number(direction[0]) * Math.pow(delta[0], 2) +\n        Number(direction[1]) * Math.pow(delta[1], 2)\n    );\n  }\n\n  private _attachElementEvent(observer: InputTypeObserver) {\n    const activeEvent = convertInputType(this.options.inputType);\n    const element = this.element;\n    if (!activeEvent) {\n      return;\n    }\n    if (!element) {\n      throw new Error(\"Element to connect input does not exist.\");\n    }\n    this._observer = observer;\n    this._enabled = true;\n    this._activeEvent = activeEvent;\n    element.addEventListener(\"click\", this._preventClickWhenDragged, true);\n    activeEvent.start.forEach((event) => {\n      element.addEventListener(event, this._onPanstart);\n    });\n    // adding event listener to element prevents invalid behavior in iOS Safari\n    activeEvent.move.forEach((event) => {\n      element.addEventListener(event, this._voidFunction);\n    });\n  }\n\n  private _detachElementEvent() {\n    const activeEvent = this._activeEvent;\n    const element = this.element;\n    if (element) {\n      element.removeEventListener(\"click\", this._preventClickWhenDragged, true);\n      activeEvent?.start.forEach((event) => {\n        element.removeEventListener(event, this._onPanstart);\n      });\n      activeEvent?.move.forEach((event) => {\n        element.removeEventListener(event, this._voidFunction);\n      });\n    }\n    this._enabled = false;\n    this._observer = null;\n  }\n\n  private _preventClickWhenDragged = (e: PointerEvent | MouseEvent) => {\n    if (this._dragged) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    this._dragged = false;\n  };\n\n  private _voidFunction = () => {};\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Axes from \"../Axes\";\nimport { ElementType, ExtendedEvent } from \"../types\";\nimport { getAngle } from \"../utils\";\n\nimport { toAxis } from \"./InputType\";\nimport { PanInput, PanInputOption } from \"./PanInput\";\n\n/**\n * A module that passes the angle moved by touch to Axes and uses one axis of rotation.\n * [Details](https://github.com/naver/egjs-axes/wiki/RotatePanInput)\n * @ko 터치에 의해 움직인 각도를 Axes 에 전달하며 1개의 회전축만 사용한다.\n * [상세내용](https://github.com/naver/egjs-axes/wiki/RotatePanInput-%7C-%ED%95%9C%EA%B5%AD%EC%96%B4)\n *\n * @example\n * ```js\n * const input = new eg.Axes.RotatePanInput(\"#area\");\n *\n * var axes = new eg.Axes({\n *\t// property name('angle') could be anything you want (eg. x, y, z...)\n * \tangle: {\n * \t\trange: [-180, 180] // from -180deg to 180deg\n * \t}\n * });\n *\n * axes.connect(\"angle\", input)\n * ```\n * @param {HTMLElement|String|jQuery} element An element to use the eg.Axes.RotatePanInput module <ko>eg.Axes.RotatePanInput 모듈을 사용할 엘리먼트</ko>\n * @param {PanInputOption} [options] The option object of the eg.Axes.PanInput module<ko>eg.Axes.PanInput 모듈의 옵션 객체</ko>\n * @extends PanInput\n */\nexport class RotatePanInput extends PanInput {\n  private _rotateOrigin: number[];\n  private _prevAngle: number;\n  private _prevQuadrant: number = null;\n  private _lastDiff = 0;\n  private _coefficientForDistanceToAngle: number;\n\n  /**\n   *\n   */\n  public constructor(el: ElementType, options?: PanInputOption) {\n    super(el, options);\n  }\n\n  public mapAxes(axes: string[]) {\n    this._direction = Axes.DIRECTION_ALL;\n    this.axes = axes;\n  }\n\n  protected _onPanstart(event: MouseEvent) {\n    const { inputKey, inputButton } = this.options;\n    const activeEvent = this._activeEvent;\n    const panEvent = activeEvent.onEventStart(event, inputKey, inputButton);\n    if (!panEvent || !this.isEnabled()) {\n      return;\n    }\n\n    const rect = this.element.getBoundingClientRect();\n\n    this._observer.hold(this, panEvent);\n    this._attachWindowEvent(activeEvent);\n    // TODO: how to do if element is ellipse not circle.\n    this._coefficientForDistanceToAngle = 360 / (rect.width * Math.PI); // from 2*pi*r * x / 360\n    // TODO: provide a way to set origin like https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin\n    this._rotateOrigin = [\n      rect.left + (rect.width - 1) / 2,\n      rect.top + (rect.height - 1) / 2,\n    ];\n\n    // init angle.\n    this._prevAngle = null;\n\n    this._triggerChange(panEvent);\n    activeEvent.prevEvent = panEvent;\n  }\n\n  protected _onPanmove(event: MouseEvent) {\n    const { inputKey, inputButton } = this.options;\n    const activeEvent = this._activeEvent;\n    const panEvent = activeEvent.onEventMove(event, inputKey, inputButton);\n    if (!panEvent || !this.isEnabled()) {\n      return;\n    }\n\n    if (panEvent.srcEvent.cancelable !== false) {\n      panEvent.srcEvent.preventDefault();\n    }\n    panEvent.srcEvent.stopPropagation();\n    this._triggerChange(panEvent);\n    activeEvent.prevEvent = panEvent;\n  }\n\n  protected _onPanend(event: MouseEvent) {\n    const activeEvent = this._activeEvent;\n    activeEvent.onEventEnd(event);\n    if (!this.isEnabled()) {\n      return;\n    }\n    const prevEvent = activeEvent.prevEvent;\n    this._triggerChange(prevEvent);\n    const vx = prevEvent.velocityX;\n    const vy = prevEvent.velocityY;\n    const velocity =\n      Math.sqrt(vx * vx + vy * vy) * (this._lastDiff > 0 ? -1 : 1); // clockwise\n    activeEvent.onRelease();\n    this._observer.release(this, prevEvent, [\n      velocity * this._coefficientForDistanceToAngle,\n    ]);\n    this._detachWindowEvent(activeEvent);\n  }\n\n  private _triggerChange(event: ExtendedEvent) {\n    const { x, y } = this._getPosFromOrigin(event.center.x, event.center.y);\n    const angle = getAngle(x, y);\n    const positiveAngle = angle < 0 ? 360 + angle : angle;\n    const quadrant = this._getQuadrant(event.center.x, event.center.y);\n    const diff = this._getDifference(\n      this._prevAngle,\n      positiveAngle,\n      this._prevQuadrant,\n      quadrant\n    );\n\n    this._prevAngle = positiveAngle;\n    this._prevQuadrant = quadrant;\n\n    if (diff === 0) {\n      return;\n    }\n\n    this._lastDiff = diff;\n    this._observer.change(this, event, toAxis(this.axes, [-diff])); // minus for clockwise\n  }\n\n  private _getDifference(\n    prevAngle: number,\n    angle: number,\n    prevQuadrant: number,\n    quadrant: number\n  ) {\n    let diff: number;\n\n    if (prevAngle === null) {\n      diff = 0;\n    } else if (prevQuadrant === 1 && quadrant === 4) {\n      diff = -prevAngle - (360 - angle);\n    } else if (prevQuadrant === 4 && quadrant === 1) {\n      diff = 360 - prevAngle + angle;\n    } else {\n      diff = angle - prevAngle;\n    }\n\n    return diff;\n  }\n\n  private _getPosFromOrigin(posX: number, posY: number) {\n    return {\n      x: posX - this._rotateOrigin[0],\n      y: this._rotateOrigin[1] - posY,\n    };\n  }\n\n  private _getQuadrant(posX: number, posY: number) {\n    /**\n     * Quadrant\n     *       y(+)\n     *       |\n     *   2   |    1\n     * --------------->x(+)\n     *   3   |    4\n     *       |\n     */\n    const { x, y } = this._getPosFromOrigin(posX, posY);\n    let q = 0;\n\n    if (x >= 0 && y >= 0) {\n      q = 1;\n    } else if (x < 0 && y >= 0) {\n      q = 2;\n    } else if (x < 0 && y < 0) {\n      q = 3;\n    } else if (x >= 0 && y < 0) {\n      q = 4;\n    }\n    return q;\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { $, isCssPropsFromAxes, setCssProps, revertCssProps } from \"../utils\";\nimport { ActiveEvent, ElementType, InputEventType } from \"../types\";\nimport { DIRECTION_ALL } from \"../const\";\n\nimport {\n  toAxis,\n  convertInputType,\n  InputType,\n  InputTypeObserver,\n} from \"./InputType\";\n\nexport interface PinchInputOption {\n  scale?: number;\n  threshold?: number;\n  inputType?: string[];\n  touchAction?: string;\n}\n\n/**\n * @typedef {Object} PinchInputOption The option object of the eg.Axes.PinchInput module\n * @ko eg.Axes.PinchInput 모듈의 옵션 객체\n * @param {Number} [scale=1] Coordinate scale that a user can move<ko>사용자의 동작으로 이동하는 좌표의 배율</ko>\n * @param {Number} [threshold=0] Minimal scale before recognizing <ko>사용자의 Pinch 동작을 인식하기 위해산 최소한의 배율</ko>\n * @param {String[]} [inputType=[\"touch\", \"pointer\"]] Types of input devices\n * - touch: Touch screen\n * - pointer: Mouse and touch <ko>입력 장치 종류\n * - touch: 터치 입력 장치\n * - pointer: 마우스 및 터치</ko>\n * @param {String} [touchAction=\"none\"] Value that overrides the element's \"touch-action\" css property. It is set to \"none\" to prevent scrolling during touch. <ko>엘리먼트의 \"touch-action\" CSS 속성을 덮어쓰는 값. 터치 도중 스크롤을 방지하기 위해 \"none\" 으로 설정되어 있다.</ko>\n **/\n\n/**\n * A module that passes the amount of change to eg.Axes when two pointers are moving toward (zoom-in) or away from each other (zoom-out). use one axis.\n * @ko 2개의 pointer를 이용하여 zoom-in하거나 zoom-out 하는 동작의 변화량을 eg.Axes에 전달하는 모듈. 한 개 의 축을 사용한다.\n * @example\n * ```js\n * const pinch = new eg.Axes.PinchInput(\"#area\", {\n *   scale: 1\n * });\n *\n * // Connect 'something' axis when two pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * axes.connect(\"something\", pinch);\n * ```\n * @param {HTMLElement|String|jQuery} element An element to use the eg.Axes.PinchInput module <ko>eg.Axes.PinchInput 모듈을 사용할 엘리먼트</ko>\n * @param {PinchInputOption} [options] The option object of the eg.Axes.PinchInput module<ko>eg.Axes.PinchInput 모듈의 옵션 객체</ko>\n */\nexport class PinchInput implements InputType {\n  public options: PinchInputOption;\n  public axes: string[] = [];\n  public element: HTMLElement = null;\n  private _observer: InputTypeObserver;\n  private _pinchFlag = false;\n  private _enabled = false;\n  private _originalCssProps: { [key: string]: string };\n  private _activeEvent: ActiveEvent = null;\n  private _baseValue: number;\n  private _isOverThreshold = false;\n\n  /**\n   *\n   */\n  public constructor(el: ElementType, options?: PinchInputOption) {\n    this.element = $(el);\n    this.options = {\n      scale: 1,\n      threshold: 0,\n      inputType: [\"touch\", \"pointer\"],\n      touchAction: \"none\",\n      ...options,\n    };\n    this._onPinchStart = this._onPinchStart.bind(this);\n    this._onPinchMove = this._onPinchMove.bind(this);\n    this._onPinchEnd = this._onPinchEnd.bind(this);\n  }\n\n  public mapAxes(axes: string[]) {\n    this.axes = axes;\n  }\n\n  public connect(observer: InputTypeObserver): InputType {\n    if (this._activeEvent) {\n      this._detachEvent();\n    }\n    this._attachEvent(observer);\n    this._originalCssProps = setCssProps(\n      this.element,\n      this.options,\n      DIRECTION_ALL\n    );\n    return this;\n  }\n\n  public disconnect() {\n    this._detachEvent();\n    if (!isCssPropsFromAxes(this._originalCssProps)) {\n      revertCssProps(this.element, this._originalCssProps);\n    }\n    return this;\n  }\n\n  /**\n   * Destroys elements, properties, and events used in a module.\n   * @ko 모듈에 사용한 엘리먼트와 속성, 이벤트를 해제한다.\n   */\n  public destroy() {\n    this.disconnect();\n    this.element = null;\n  }\n\n  /**\n   * Enables input devices\n   * @ko 입력 장치를 사용할 수 있게 한다\n   * @return {PinchInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public enable() {\n    this._enabled = true;\n    return this;\n  }\n\n  /**\n   * Disables input devices\n   * @ko 입력 장치를 사용할 수 없게 한다.\n   * @return {PinchInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public disable() {\n    this._enabled = false;\n    return this;\n  }\n\n  /**\n   * Returns whether to use an input device\n   * @ko 입력 장치를 사용 여부를 반환한다.\n   * @return {Boolean} Whether to use an input device <ko>입력장치 사용여부</ko>\n   */\n  public isEnabled() {\n    return this._enabled;\n  }\n\n  private _onPinchStart(event: InputEventType) {\n    const activeEvent = this._activeEvent;\n    const pinchEvent = activeEvent.onEventStart(event);\n    if (!pinchEvent || !this._enabled || activeEvent.getTouches(event) !== 2) {\n      return;\n    }\n\n    this._baseValue = this._observer.get(this)[this.axes[0]];\n    this._observer.hold(this, event);\n    this._pinchFlag = true;\n    this._isOverThreshold = false;\n    activeEvent.prevEvent = pinchEvent;\n  }\n\n  private _onPinchMove(event: InputEventType) {\n    const threshold = this.options.threshold;\n    const activeEvent = this._activeEvent;\n    const pinchEvent = activeEvent.onEventMove(event);\n    if (\n      !pinchEvent ||\n      !this._pinchFlag ||\n      !this._enabled ||\n      activeEvent.getTouches(event) !== 2\n    ) {\n      return;\n    }\n\n    const distance = this._getDistance(pinchEvent.scale);\n    const offset = this._getOffset(\n      pinchEvent.scale,\n      activeEvent.prevEvent.scale\n    );\n\n    if (this._isOverThreshold || distance >= threshold) {\n      this._isOverThreshold = true;\n      this._observer.change(this, event, toAxis(this.axes, [offset]));\n    }\n    activeEvent.prevEvent = pinchEvent;\n  }\n\n  private _onPinchEnd(event: InputEventType) {\n    const activeEvent = this._activeEvent;\n    activeEvent.onEventEnd(event);\n    if (\n      !this._pinchFlag ||\n      !this._enabled ||\n      activeEvent.getTouches(event) >= 2\n    ) {\n      return;\n    }\n\n    activeEvent.onRelease();\n    this._observer.release(this, event, [0], 0);\n    this._baseValue = null;\n    this._pinchFlag = false;\n  }\n\n  private _attachEvent(observer: InputTypeObserver) {\n    const activeEvent = convertInputType(this.options.inputType);\n    const element = this.element;\n    if (!activeEvent) {\n      return;\n    }\n    if (!element) {\n      throw new Error(\"Element to connect input does not exist.\");\n    }\n    this._observer = observer;\n    this._enabled = true;\n    this._activeEvent = activeEvent;\n    activeEvent.start.forEach((event) => {\n      element.addEventListener(event, this._onPinchStart, false);\n    });\n    activeEvent.move.forEach((event) => {\n      element.addEventListener(event, this._onPinchMove, false);\n    });\n    activeEvent.end.forEach((event) => {\n      element.addEventListener(event, this._onPinchEnd, false);\n    });\n  }\n\n  private _detachEvent() {\n    const activeEvent = this._activeEvent;\n    const element = this.element;\n    if (element) {\n      activeEvent?.start.forEach((event) => {\n        element.removeEventListener(event, this._onPinchStart, false);\n      });\n      activeEvent?.move.forEach((event) => {\n        element.removeEventListener(event, this._onPinchMove, false);\n      });\n      activeEvent?.end.forEach((event) => {\n        element.removeEventListener(event, this._onPinchEnd, false);\n      });\n    }\n    this._enabled = false;\n    this._observer = null;\n  }\n\n  private _getOffset(pinchScale: number, prev: number = 1): number {\n    return this._baseValue * (pinchScale - prev) * this.options.scale;\n  }\n\n  private _getDistance(pinchScale: number): number {\n    return Math.abs(pinchScale - 1);\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { $, getDirection, useDirection } from \"../utils\";\nimport { ANY, DIRECTION_HORIZONTAL, DIRECTION_VERTICAL } from \"../const\";\nimport { ElementType } from \"../types\";\n\nimport { toAxis, InputType, InputTypeObserver } from \"./InputType\";\nimport { isValidKey } from \"../eventInput/EventInput\";\n\nexport interface WheelInputOption {\n  inputKey?: string[];\n  scale?: number;\n  releaseDelay?: number;\n  useNormalized?: boolean;\n  useAnimation?: boolean;\n}\n\n/**\n * @typedef {Object} WheelInputOption The option object of the eg.Axes.WheelInput module\n * @ko eg.Axes.WheelInput 모듈의 옵션 객체\n * @param {String[]} [inputKey=[\"any\"]] List of key combinations to allow input\n * - any: any key\n * - shift: shift key\n * - ctrl: ctrl key and pinch gesture on the trackpad\n * - alt: alt key\n * - meta: meta key\n * - none: none of these keys are pressed <ko>입력을 허용할 키 조합 목록\n * - any: 아무 키\n * - shift: shift 키\n * - ctrl: ctrl 키 및 트랙패드의 pinch 제스쳐\n * - alt: alt 키\n * - meta: meta 키\n * - none: 아무 키도 눌리지 않은 상태 </ko>\n * @param {Number} [scale=1] Coordinate scale that a user can move<ko>사용자의 동작으로 이동하는 좌표의 배율</ko>\n * @param {Number} [releaseDelay=300] Millisecond that trigger release event after last input<ko>마지막 입력 이후 release 이벤트가 트리거되기까지의 밀리초</ko>\n * @param {Boolean} [useNormalized=true] Whether to calculate scroll speed the same in all browsers<ko>모든 브라우저에서 스크롤 속도를 동일하게 처리할지 여부</ko>\n * @param {Boolean} [useAnimation=false] Whether to process coordinate changes through the mouse wheel as a continuous animation<ko>마우스 휠을 통한 좌표 변화를 연속적인 애니메이션으로 처리할지 여부</ko>\n **/\n\n/**\n * A module that passes the amount of change to eg.Axes when the mouse wheel is moved. use one axis.\n * @ko 마우스 휠이 움직일때의 변화량을 eg.Axes에 전달하는 모듈. 두개 이하의 축을 사용한다.\n *\n * @example\n * ```js\n * const wheel = new eg.Axes.WheelInput(\"#area\", {\n *     scale: 1\n * });\n *\n * // Connect only one 'something1' axis to the vertical mouse wheel.\n * axes.connect([\"something1\"], wheel); // or axes.connect(\"something1\", wheel);\n *\n * // Connect only one 'something2' axis to the horizontal mouse wheel.\n * axes.connect([\"\", \"something2\"], wheel); // or axes.connect(\" something2\", pan);\n *\n * // Connect the 'something1' axis to the vertical mouse wheel.\n * // Connect the 'something2' axis to the horizontal mouse wheel.\n * axes.connect([\"something1\", \"something2\"], wheel);\n * ```\n * @param {HTMLElement|String|jQuery} element An element to use the eg.Axes.WheelInput module <ko>eg.Axes.WheelInput 모듈을 사용할 엘리먼트</ko>\n * @param {WheelInputOption} [options] The option object of the eg.Axes.WheelInput module<ko>eg.Axes.WheelInput 모듈의 옵션 객체</ko>\n */\nexport class WheelInput implements InputType {\n  public options: WheelInputOption;\n  public axes: string[] = [];\n  public element: HTMLElement = null;\n  private _observer: InputTypeObserver;\n  private _direction: number;\n  private _enabled = false;\n  private _holding = false;\n  private _timer: NodeJS.Timeout = null;\n\n  /**\n   *\n   */\n  public constructor(el: ElementType, options?: WheelInputOption) {\n    this.element = $(el);\n    this.options = {\n      inputKey: [ANY],\n      scale: 1,\n      releaseDelay: 300,\n      useNormalized: true,\n      useAnimation: false,\n      ...options,\n    };\n    this._onWheel = this._onWheel.bind(this);\n  }\n\n  public mapAxes(axes: string[]) {\n    // vertical mouse wheel is mapped into axes[0]\n    this._direction = getDirection(!!axes[1], !!axes[0]);\n    this.axes = axes;\n  }\n\n  public connect(observer: InputTypeObserver): InputType {\n    this._detachEvent();\n    this._attachEvent(observer);\n    return this;\n  }\n\n  public disconnect() {\n    this._detachEvent();\n    return this;\n  }\n\n  /**\n   * Destroys elements, properties, and events used in a module.\n   * @ko 모듈에 사용한 엘리먼트와 속성, 이벤트를 해제한다.\n   */\n  public destroy() {\n    this.disconnect();\n    this.element = null;\n  }\n\n  /**\n   * Enables input devices\n   * @ko 입력 장치를 사용할 수 있게 한다\n   * @return {WheelInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public enable() {\n    this._enabled = true;\n    return this;\n  }\n\n  /**\n   * Disables input devices\n   * @ko 입력 장치를 사용할 수 없게 한다.\n   * @return {WheelInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public disable() {\n    this._enabled = false;\n    return this;\n  }\n\n  /**\n   * Returns whether to use an input device\n   * @ko 입력 장치를 사용 여부를 반환한다.\n   * @return {Boolean} Whether to use an input device <ko>입력장치 사용여부</ko>\n   */\n  public isEnabled() {\n    return this._enabled;\n  }\n\n  private _onWheel(event: WheelEvent) {\n    if (!this._enabled || !isValidKey(event, this.options.inputKey)) {\n      return;\n    }\n\n    const offset = this._getOffset(\n      [event.deltaY, event.deltaX],\n      [\n        useDirection(DIRECTION_VERTICAL, this._direction),\n        useDirection(DIRECTION_HORIZONTAL, this._direction),\n      ]\n    );\n\n    if (offset[0] === 0 && offset[1] === 0) {\n      return;\n    }\n    event.preventDefault();\n\n    if (!this._holding) {\n      this._observer.hold(this, event);\n      this._holding = true;\n    }\n\n    this._observer.change(\n      this,\n      event,\n      toAxis(this.axes, offset),\n      this.options.useAnimation\n    );\n    clearTimeout(this._timer);\n\n    this._timer = setTimeout(() => {\n      if (this._holding) {\n        this._holding = false;\n        this._observer.release(this, event, [0]);\n      }\n    }, this.options.releaseDelay);\n  }\n\n  private _getOffset(properties: number[], direction: boolean[]): number[] {\n    const scale = this.options.scale;\n    const useNormalized = this.options.useNormalized;\n    return [\n      direction[0] && properties[0]\n        ? (properties[0] > 0 ? -1 : 1) *\n          (useNormalized ? 1 : Math.abs(properties[0])) *\n          scale\n        : 0,\n      direction[1] && properties[1]\n        ? (properties[1] > 0 ? -1 : 1) *\n          (useNormalized ? 1 : Math.abs(properties[1])) *\n          scale\n        : 0,\n    ];\n  }\n\n  private _attachEvent(observer: InputTypeObserver) {\n    const element = this.element;\n    if (!element) {\n      throw new Error(\"Element to connect input does not exist.\");\n    }\n    this._observer = observer;\n    element.addEventListener(\"wheel\", this._onWheel);\n    this._enabled = true;\n  }\n\n  private _detachEvent() {\n    const element = this.element;\n    if (element) {\n      this.element.removeEventListener(\"wheel\", this._onWheel);\n    }\n    this._enabled = false;\n    this._observer = null;\n\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { ElementType } from \"../types\";\nimport { $ } from \"../utils\";\n\nimport { toAxis, InputType, InputTypeObserver } from \"./InputType\";\n\nexport const KEY_LEFT_ARROW = 37;\nexport const KEY_A = 65;\nexport const KEY_UP_ARROW = 38;\nexport const KEY_W = 87;\nexport const KEY_RIGHT_ARROW = 39;\nexport const KEY_D = 68;\nexport const KEY_DOWN_ARROW = 40;\nexport const KEY_S = 83;\n\n/* eslint-disable */\nconst DIRECTION_REVERSE = -1;\nconst DIRECTION_FORWARD = 1;\nconst DIRECTION_HORIZONTAL = -1;\nconst DIRECTION_VERTICAL = 1;\nconst DELAY = 80;\n/* eslint-enable */\n\nexport interface MoveKeyInputOption {\n  scale?: number[];\n}\n\n/**\n * @typedef {Object} MoveKeyInputOption The option object of the eg.Axes.MoveKeyInput module\n * @ko eg.Axes.MoveKeyInput 모듈의 옵션 객체\n * @param {Array<Number>} [scale] Coordinate scale that a user can move<ko>사용자의 동작으로 이동하는 좌표의 배율</ko>\n * @param {Number} [scale[0]=1] Coordinate scale for the first axis<ko>첫번째 축의 배율</ko>\n * @param {Number} [scale[1]=1] Coordinate scale for the decond axis<ko>두번째 축의 배율</ko>\n **/\n\n/**\n * A module that passes the amount of change to eg.Axes when the move key stroke is occured. use two axis.\n * @ko 이동키 입력이 발생했을 때의 변화량을 eg.Axes에 전달하는 모듈. 두 개 의 축을 사용한다.\n *\n * @example\n * ```js\n * const moveKey = new eg.Axes.MoveKeyInput(\"#area\", {\n *     scale: [1, 1]\n * });\n *\n * // Connect 'x', 'y' axes when the moveKey is pressed.\n * axes.connect([\"x\", \"y\"], moveKey);\n * ```\n * @param {HTMLElement|String|jQuery} element An element to use the eg.Axes.MoveKeyInput module <ko>eg.Axes.MoveKeyInput 모듈을 사용할 엘리먼트</ko>\n * @param {MoveKeyInputOption} [options] The option object of the eg.Axes.MoveKeyInput module<ko>eg.Axes.MoveKeyInput 모듈의 옵션 객체</ko>\n */\nexport class MoveKeyInput implements InputType {\n  public options: MoveKeyInputOption;\n  public axes: string[] = [];\n  public element: HTMLElement = null;\n  private _observer: InputTypeObserver;\n  private _enabled = false;\n  private _holding = false;\n  private _timer: NodeJS.Timeout = null;\n\n  /**\n   *\n   */\n  public constructor(el: ElementType, options?: MoveKeyInputOption) {\n    this.element = $(el);\n    this.options = {\n      ...{\n        scale: [1, 1],\n      },\n      ...options,\n    };\n    this._onKeydown = this._onKeydown.bind(this);\n    this._onKeyup = this._onKeyup.bind(this);\n  }\n\n  public mapAxes(axes: string[]) {\n    this.axes = axes;\n  }\n\n  public connect(observer: InputTypeObserver): InputType {\n    this._detachEvent();\n\n    // add tabindex=\"0\" to the container for making it focusable\n    if (this.element.getAttribute(\"tabindex\") !== \"0\") {\n      this.element.setAttribute(\"tabindex\", \"0\");\n    }\n\n    this._attachEvent(observer);\n    return this;\n  }\n\n  public disconnect() {\n    this._detachEvent();\n    return this;\n  }\n\n  /**\n   * Destroys elements, properties, and events used in a module.\n   * @ko 모듈에 사용한 엘리먼트와 속성, 이벤트를 해제한다.\n   */\n  public destroy() {\n    this.disconnect();\n    this.element = null;\n  }\n\n  /**\n   * Enables input devices\n   * @ko 입력 장치를 사용할 수 있게 한다\n   * @return {MoveKeyInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public enable() {\n    this._enabled = true;\n    return this;\n  }\n\n  /**\n   * Disables input devices\n   * @ko 입력 장치를 사용할 수 없게 한다.\n   * @return {MoveKeyInput} An instance of a module itself <ko>모듈 자신의 인스턴스</ko>\n   */\n  public disable() {\n    this._enabled = false;\n    return this;\n  }\n\n  /**\n   * Returns whether to use an input device\n   * @ko 입력 장치를 사용 여부를 반환한다.\n   * @return {Boolean} Whether to use an input device <ko>입력장치 사용여부</ko>\n   */\n  public isEnabled() {\n    return this._enabled;\n  }\n\n  private _onKeydown(event: KeyboardEvent) {\n    if (!this._enabled) {\n      return;\n    }\n\n    let isMoveKey = true;\n    let direction = DIRECTION_FORWARD;\n    let move = DIRECTION_HORIZONTAL;\n\n    switch (event.keyCode) {\n      case KEY_LEFT_ARROW:\n      case KEY_A:\n        direction = DIRECTION_REVERSE;\n        break;\n      case KEY_RIGHT_ARROW:\n      case KEY_D:\n        break;\n      case KEY_DOWN_ARROW:\n      case KEY_S:\n        direction = DIRECTION_REVERSE;\n        move = DIRECTION_VERTICAL;\n        break;\n      case KEY_UP_ARROW:\n      case KEY_W:\n        move = DIRECTION_VERTICAL;\n        break;\n      default:\n        isMoveKey = false;\n    }\n    if (\n      (move === DIRECTION_HORIZONTAL && !this.axes[0]) ||\n      (move === DIRECTION_VERTICAL && !this.axes[1])\n    ) {\n      isMoveKey = false;\n    }\n    if (!isMoveKey) {\n      return;\n    }\n    event.preventDefault();\n    const offsets =\n      move === DIRECTION_HORIZONTAL\n        ? [+this.options.scale[0] * direction, 0]\n        : [0, +this.options.scale[1] * direction];\n\n    if (!this._holding) {\n      this._observer.hold(this, event);\n      this._holding = true;\n    }\n    clearTimeout(this._timer);\n    this._observer.change(this, event, toAxis(this.axes, offsets));\n  }\n\n  private _onKeyup(event: KeyboardEvent) {\n    if (!this._holding) {\n      return;\n    }\n    clearTimeout(this._timer);\n    this._timer = setTimeout(() => {\n      this._observer.release(this, event, [0, 0]);\n      this._holding = false;\n    }, DELAY);\n  }\n\n  private _attachEvent(observer: InputTypeObserver) {\n    const element = this.element;\n    if (!element) {\n      throw new Error(\"Element to connect input does not exist.\");\n    }\n    this._observer = observer;\n    element.addEventListener(\"keydown\", this._onKeydown, false);\n    element.addEventListener(\"keypress\", this._onKeydown, false);\n    element.addEventListener(\"keyup\", this._onKeyup, false);\n    this._enabled = true;\n  }\n\n  private _detachEvent() {\n    const element = this.element;\n    if (element) {\n      element.removeEventListener(\"keydown\", this._onKeydown, false);\n      element.removeEventListener(\"keypress\", this._onKeydown, false);\n      element.removeEventListener(\"keyup\", this._onKeyup, false);\n    }\n    this._enabled = false;\n    this._observer = null;\n  }\n}\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Axes, { AxesOption } from \"./Axes\";\nimport { AXES_EVENTS, AXES_METHODS } from \"./const\";\nimport { ReactiveAdapter } from \"@cfcs/core\";\nimport {\n  AxesEvents,\n  AxesMethods,\n  AxesReactiveState,\n  ObjectInterface,\n} from \"./types\";\nimport { AxisOption } from \"./AxisManager\";\n\nexport interface AxesData {\n  axis: ObjectInterface<AxisOption>;\n  options: AxesOption;\n}\n\nexport const REACTIVE_AXES: ReactiveAdapter<\n  Axes,\n  AxesReactiveState,\n  keyof AxesMethods,\n  AxesData,\n  AxesEvents\n> = {\n  methods: AXES_METHODS,\n  events: AXES_EVENTS,\n  created(data) {\n    return new Axes(data.axis, data.options);\n  },\n  on(instance, name, callback) {\n    instance.on(name, callback);\n  },\n  off(instance, name, callback) {\n    instance.off(name, callback);\n  },\n  destroy(instance) {\n    instance.destroy();\n  },\n};\n", "/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Axes from \"./Axes\";\nexport { PanInput } from \"./inputType/PanInput\";\nexport { RotatePanInput } from \"./inputType/RotatePanInput\";\nexport { PinchInput } from \"./inputType/PinchInput\";\nexport { WheelInput } from \"./inputType/WheelInput\";\nexport { MoveKeyInput } from \"./inputType/MoveKeyInput\";\n\nexport default Axes;\n\nexport { AXES_METHODS, AXES_EVENTS } from \"./const\";\nexport * from \"./types\";\nexport * from \"./reactive\";\n", "/**\n * egjs-conveyer\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nexport const IS_IE = /msie|trident/g.test(\n  (typeof window !== \"undefined\" && window?.navigator?.userAgent?.toLowerCase()) || \"\",\n);\n", "/**\n * egjs-conveyer\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nexport function isString(val: any): val is string {\n  return typeof val === \"string\";\n}\n\nexport function findIndex<T>(arr: T[], callback: (element: T, index: number) => boolean) {\n  const length = arr.length;\n\n  for (let i = 0; i < length; ++i) {\n    if (callback(arr[i], i)) {\n      return i;\n    }\n  }\n  return -1;\n}\n", "/**\n * egjs-conveyer\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nimport Axes, { OnChange, OnHold, PanInput, WheelInput } from \"@egjs/axes\";\nimport Component from \"@egjs/component\";\nimport { IS_IE } from \"./browser\";\nimport { ReactiveSubscribe, Reactive, Ref } from \"@cfcs/core\";\nimport {\n  ConveyerEvents, ConveyerItem,\n  ConveyerOptions, FindItemOptions, ConveyerReactiveState,\n  ScrollIntoViewOptions,\n} from \"./types\";\nimport { isString } from \"./utils\";\n\n\n/**\n * Conveyer adds Drag gestures to your Native Scroll.\n * @ko Conveyer는 네이티브 스크롤에 드래그 제스처를 추가합니다.\n * @extends Component\n * @support {\"ie\": \"9+(with polyfill)\", \"ch\" : \"latest\", \"ff\" : \"latest\",  \"sf\" : \"latest\", \"edge\" : \"latest\", \"ios\" : \"7+\", \"an\" : \"4.X+\"}\n * @example\n```html\n<div class=\"items\">\n  <div class=\"item\"></div>\n  <div class=\"item\"></div>\n  <div class=\"item\"></div>\n</div>\n<script>\nimport Conveyer from \"@egjs/conveyer\";\n\nconst conveyer = new Conveyer(\".items\");\n</script>\n```\n */\n@ReactiveSubscribe\nclass Conveyer extends Component<ConveyerEvents> {\n  protected _scrollAreaElement: HTMLElement;\n  protected _axes: Axes | null = null;\n  protected _items: ConveyerItem[] = [];\n  protected _size = 0;\n  protected _scrollSize = 0;\n  protected _options: ConveyerOptions;\n\n  private _scrollTimer = 0;\n  private _isDragScroll = false;\n  private _isAnimation = false;\n  private _scrollArea: string | HTMLElement | Ref<HTMLElement>;\n\n  /**\n   * Whether the scroll has reached the start.\n   * @ko 스크롤이 시작에 닿았는지 여부.\n   * @name Conveyer#isReachStart\n   * @type {boolean}\n   * @default true\n   * @readonly\n   * @example\n   * ```js\n   * import { Conveyer } from \"@egjs/conveyer\";\n   *\n   * const conveyer = new Conveyer(\".container\");\n   *\n   * conveyer.isReachStart\n   * ```\n   */\n  @Reactive(\"isReachStart\") private _isReachStart = true;\n  /**\n   * Whether the scroll has reached the end.\n   * @ko 스크롤이 끝에 닿았는지 여부.\n   * @name Conveyer#isReachEnd\n   * @type {boolean}\n   * @default false\n   * @readonly\n   * @example\n   * ```js\n   * import { Conveyer } from \"@egjs/conveyer\";\n   *\n   * const conveyer = new Conveyer(\".container\");\n   *\n   * conveyer.isReachEnd\n   * ```\n   */\n  @Reactive(\"isReachEnd\") private _isReachEnd = false;\n  /**\n   * the scroll position of the container\n   * @ko 컨테이너의 스크롤 위치\n   * @name Conveyer#scrollPos\n   * @type {number}\n   * @default 0\n   * @readonly\n   * @example\n   * ```js\n   * import { Conveyer } from \"@egjs/conveyer\";\n   *\n   * const conveyer = new Conveyer(\".container\");\n   *\n   * conveyer.scrollPos\n   * ```\n   */\n  @Reactive(\"scrollPos\") protected _pos = 0;\n  /**\n   * @param - A base element for a module <ko>모듈을 적용할 기준 엘리먼트</ko>\n   * @param - The option object of the InfiniteGrid module <ko>eg.InfiniteGrid 모듈의 옵션 객체</ko>\n   */\n  constructor(scrollArea: string | HTMLElement | Ref<HTMLElement>, options: ConveyerOptions = {}) {\n    super();\n    this._options = {\n      horizontal: true,\n      useDrag: true,\n      useSideWheel: false,\n      autoInit: true,\n      scrollDebounce: 100,\n      ...options,\n    };\n\n    this._scrollArea = scrollArea;\n    if (this._options.autoInit) {\n      this.init();\n    }\n  }\n  /**\n   * Finds an element for that direction.\n   * @ko 해당 방향에 대해 엘리먼트를 찾는다.]\n   * @see {@link /docs/examples/Methods direction's example} page for detailed information\n   * @param - direction of the element. \"start\" and \"end\" find inside. \"prev\" and \"next\" find outside. <ko>엘리먼트의 방향. \"start\", \"end\"는 안쪽으로 찾는다. \"prev\", \"next\"는 바깥쪽으로 찾는다.</ko>\n   * @param - Options for the `findElement` method. <ko>findElement 메서드의 옵션</ko>\n   * @example\n   * <p align=\"center\">\n   *  <img src=\"https://naver.github.io/egjs-conveyer/img/scrollIntoView1.png\" height=\"200\" />\n   * </p>\n   * <p align=\"center\">\n   *   <img src=\"https://naver.github.io/egjs-conveyer/img/scrollIntoView2.png\" height=\"210\" />\n   * </p>\n   */\n  public findElement(direction: \"start\" | \"end\" | \"prev\" | \"next\", options: FindItemOptions = {}) {\n    return this.findItem(direction, options)?.element || null;\n  }\n  /**\n   * Finds an item for an element or its direction.\n   * @ko 엘리먼트 또는 해당 방향에 대해 아이템을 찾는다.\n   * @see {@link /docs/examples/Methods direction's example} page for detailed information\n   * @param - direction of the element. \"start\" and \"end\" find inside. \"prev\" and \"next\" find outside. <ko>엘리먼트의 방향. \"start\", \"end\"는 안쪽으로 찾는다. \"prev\", \"next\"는 바깥쪽으로 찾는다.</ko>\n   * @param - Options for the `findItem` method. <ko>`findItem` 메서드의 옵션</ko>\n   * @example\n   * <p align=\"center\">\n   *  <img src=\"https://naver.github.io/egjs-conveyer/img/scrollIntoView1.png\" height=\"200\" />\n   * </p>\n   * <p align=\"center\">\n   *   <img src=\"https://naver.github.io/egjs-conveyer/img/scrollIntoView2.png\" height=\"210\" />\n   * </p>\n   */\n  public findItem(\n    target: HTMLElement | \"start\" | \"end\" | \"prev\" | \"next\",\n    options: FindItemOptions = {},\n  ): ConveyerItem | null {\n    const pos = this._pos;\n    const scrollSize = this._scrollSize;\n    const size = this._size;\n    const hitTest = options?.hitTest ?? 1;\n    const items = [...this._items];\n    const length = items.length;\n    const endPos = pos + size;\n    const sibling = options.sibling;\n    const startVirtualItem = { pos: 0, size: 0 };\n    const endVirtualItem = { pos: scrollSize, size: 0 };\n\n    if (items[0].pos > 0) {\n      items.unshift(startVirtualItem);\n    }\n    if (length && items[length - 1].pos + items[length - 1].size < scrollSize) {\n      items.push(endVirtualItem);\n    }\n    let selectedItem: ConveyerItem | undefined;\n\n\n    if (target === \"start\") {\n      if (pos < 0) {\n        return null;\n      }\n      const selectedItems = [...items].reverse().filter(item => {\n        const itemSize = item.size;\n        const dist = item.pos - pos;\n        const dist2 = dist + itemSize;\n\n        return (dist >= 0) || (dist2 >= 0 && (!itemSize || Math.abs(dist2) / itemSize >= hitTest));\n      }).reverse();\n\n      selectedItem = (selectedItems[0] === startVirtualItem && selectedItems[1]) || selectedItems[0];\n    } else if (target === \"end\") {\n      if (pos > scrollSize - size) {\n        return null;\n      }\n      const selectedItems = items.filter(item => {\n        const itemSize = item.size;\n        const dist = item.pos + itemSize - endPos;\n        const dist2 = dist - itemSize;\n\n        return dist <= 0 || (dist2 <= 0 && (!itemSize || Math.abs(dist2) / itemSize >= hitTest));\n      }).reverse();\n\n      selectedItem = (selectedItems[0] === endVirtualItem && selectedItems[1]) || selectedItems[0];\n    } else if (target === \"prev\") {\n      selectedItem = items.filter(item => {\n        const itemSize = item.size;\n        const dist = item.pos + itemSize - pos;\n        const dist2 = dist - itemSize;\n\n        return dist <= 0 || (dist2 <= 0 && (!itemSize || Math.abs(dist2) / itemSize >= hitTest));\n      }).reverse()[0];\n    } else if (target === \"next\") {\n      selectedItem = items.reverse().filter(item => {\n        const itemSize = item.size;\n        const dist = item.pos - endPos;\n        const dist2 = dist + itemSize;\n\n        return dist >= 0 || (dist2 >= 0 && (!itemSize || Math.abs(dist2) / itemSize >= hitTest));\n      }).reverse()[0];\n    } else {\n      return this._getItem(target);\n    }\n    if (sibling && selectedItem) {\n      const selectedIndex = items.indexOf(selectedItem);\n\n      if (selectedIndex > -1) {\n        selectedItem = items[selectedIndex + sibling];\n      }\n    }\n    return selectedItem || null;\n  }\n  /**\n   * Scrolls an element or an item in that direction into the view.\n   * @ko 엘리먼트나 해당 방향에 있는 아이템을 뷰안으로 스크롤을 한다.\n   * @see {@link /docs/examples/Methods target's example} page for detailed information\n   * @param - direction of the element. \"start\" and \"end\" find inside. \"prev\" and \"next\" find outside. <ko>엘리먼트의 방향. \"start\", \"end\"는 안쪽으로 찾는다. \"prev\", \"next\"는 바깥쪽으로 찾는다.</ko>\n   * @param - Options for the `scrollIntoView` method. <ko>`scrollIntoView` 메서드의 옵션</ko>\n   * @example\n   * <p align=\"center\">\n   *  <img src=\"https://naver.github.io/egjs-conveyer/img/scrollIntoView1.png\" height=\"200\" />\n   * </p>\n   * <p align=\"center\">\n   *   <img src=\"https://naver.github.io/egjs-conveyer/img/scrollIntoView2.png\" height=\"210\" />\n   * </p>\n   */\n  public scrollIntoView(target: HTMLElement | \"start\" | \"end\" | \"prev\" | \"next\", options: ScrollIntoViewOptions = {}) {\n    let item = this.findItem(target, options);\n\n    if (!item) {\n      return;\n    }\n    const duration = options.duration || 0;\n    let nextScrollPos = this._getNextScrollPos(item, options);\n\n    if (isString(target) && options.excludeStand && nextScrollPos === this._pos) {\n      const selectedIndex = this._items.indexOf(item);\n\n      if (selectedIndex === -1) {\n        return;\n      }\n      const sibling = target === \"start\" || target === \"prev\" ? -1 : 1;\n      item = this._items[selectedIndex + sibling];\n\n      if (!item) {\n        return;\n      }\n      nextScrollPos = this._getNextScrollPos(item, options);\n    }\n\n    this.scrollBy(nextScrollPos - this._pos, duration);\n  }\n  /**\n   * Scrolls by the given position amount.\n   * @ko 주어진 위치 양만큼 스크롤한다.\n   * @param - Amount of position to scroll by. <ko>스크롤할 위치의 양.</ko>\n   * @param - Duration to scroll by that position. <ko>해당 위치만큼 스크롤하는 시간</ko>\n   */\n  public scrollBy(pos: number, duration = 0) {\n    this._axes!.setBy({ scroll: -pos }, duration);\n  }\n  /**\n   * Scroll to the given position.\n   * @ko 주어진 위치로 스크롤한다.\n   * @param - Amount of position to scroll to. <ko>스크롤할 위치의 양.</ko>\n   * @param - Duration to scroll to that position. <ko>해당 위치로 스크롤하는 시간</ko>\n   */\n  public scrollTo(pos: number, duration = 0) {\n    this._axes!.setBy({ scroll: this._pos - pos }, duration);\n  }\n  /**\n   * Set the items directly to the Conveyer.\n   * @ko Conveyer에 아이템들을 직접 설정한다.\n   * @param - Items to set on Conveyer <ko>Conveyer에 설정할 아이템들</ko>\n   */\n  public setItems(items: ConveyerItem[]) {\n    this._items = items;\n  }\n  /**\n   * Update the position and size information of items.\n   * @ko 아이템들의 포지션, 사이즈 정보를 업데이트 한다.\n   */\n  public updateItems() {\n    const scrollAreaElement = this._scrollAreaElement;\n    const itemSelector = this._options.itemSelector;\n    const itemElements = [].slice.call(\n      itemSelector ? scrollAreaElement.querySelectorAll(itemSelector) : scrollAreaElement.children,\n    );\n    this.setItems(itemElements.map((el) => this._getItem(el)));\n  }\n  /**\n   * Update container size and scroll size.\n   * @ko 컨테이너의 크기, 스크롤 사이즈를 업데이트 한다.\n   */\n  public updateContainer() {\n    const scrollAreaElement = this._scrollAreaElement;\n    const horizontal = this._options.horizontal;\n\n    const size = horizontal ? scrollAreaElement.clientWidth : scrollAreaElement.clientHeight;\n    let scrollSize = horizontal ? scrollAreaElement.scrollWidth : scrollAreaElement.scrollHeight;\n\n    // check decimal point\n    if (IS_IE && scrollSize === size + 1) {\n      const style = getComputedStyle(scrollAreaElement);\n      const boxSizing = style.boxSizing;\n      const borderSize = horizontal\n        ? (parseFloat(style.borderLeftWidth) || 0) + (parseFloat(style.borderRightWidth) || 0)\n        : (parseFloat(style.borderTopWidth) || 0) + (parseFloat(style.borderBottomWidth) || 0);\n      const cssSize = parseFloat(horizontal ? style.width : style.height) || 0;\n      const contentSize = cssSize - (boxSizing === \"border-box\" ? borderSize : 0);\n\n      // 0 < 0.5 && 0.5 < 1\n      if (size < contentSize && contentSize < size + 1) {\n        scrollSize = size;\n      }\n    }\n    this._size = size;\n    this._scrollSize = scrollSize;\n    this._refreshScroll();\n    this._onScroll();\n  }\n  /**\n   * Updating containers and items.\n   * @ko 컨테이너와 아이템들을 업데이트 한다.\n   * @method\n   */\n  public update = () => {\n    this.updateItems();\n    this.updateContainer();\n  }\n  /**\n   * If you use the autoInit option as false, you can initialize it directly through the init method.\n   * @ko autoInit 옵션을 false로 사용하는 경우 직접 init 메서드를 통해 초기화 할 수 있다.\n   */\n  public init() {\n    if (this._axes) {\n      return;\n    }\n\n    const scrollArea = this._scrollArea;\n    let el!: HTMLElement;\n\n    if (isString(scrollArea)) {\n      el = document.querySelector<HTMLElement>(scrollArea)!;\n    } else if (scrollArea instanceof Element) {\n      el = scrollArea;\n    } else if (\"value\" in scrollArea || \"current\" in scrollArea) {\n      el = scrollArea.value! || scrollArea.current!;\n    }\n\n    this._scrollAreaElement = el;\n    let isDrag = false;\n    const scrollAreaElement = this._scrollAreaElement;\n    const options = this._options;\n    const axes = new Axes({\n      scroll: {\n        range: [-Infinity, Infinity],\n      },\n    }, {\n      deceleration: 0.005,\n      round: 1,\n      nested: options.nested,\n    }, {\n      scroll: 0,\n    });\n    let isHold = false;\n\n    axes.on({\n      \"hold\": e => {\n        isHold = true;\n        isDrag = false;\n        const nativeEvent = this._getNativeEvent(e);\n\n        if (!nativeEvent) {\n          return;\n        }\n        if (options.preventDefault) {\n          nativeEvent.preventDefault();\n        }\n        if (options.preventClickOnDrag) {\n          this._disableClick();\n        }\n      },\n      \"change\": e => {\n        const nativeEvent = this._getNativeEvent(e);\n        if (nativeEvent && !isHold) {\n          return;\n        }\n        if (options.useSideWheel && this._isMixedWheel(nativeEvent)) {\n          return;\n        }\n        this._isDragScroll = !!nativeEvent && nativeEvent.type !== \"wheel\";\n        this._isAnimation = !!isHold;\n        isDrag = true;\n        const scroll = e.delta.scroll;\n\n        if (options.horizontal) {\n          scrollAreaElement.scrollLeft -= scroll;\n        } else {\n          scrollAreaElement.scrollTop -= scroll;\n        }\n        if (options.nested) {\n          this._checkNestedMove(nativeEvent);\n        }\n      },\n      \"release\": e => {\n        if (!isDrag) {\n          e.setTo({ ...e.depaPos }, 0);\n          this._enableClick();\n        }\n        isDrag = false;\n      },\n    });\n\n    this._axes = axes;\n    if (options.useDrag) {\n      axes.connect(options.horizontal ? [\"scroll\", \"\"] : [\"\", \"scroll\"], new PanInput(scrollAreaElement, {\n        inputType: [\"mouse\"],\n        touchAction: \"auto\",\n      }));\n    }\n    if (options.useSideWheel) {\n      axes.connect(options.horizontal ? [\"scroll\", \"\"] : [\"\", \"scroll\"], new WheelInput(scrollAreaElement, {\n        useNormalized: false,\n      }));\n    }\n    scrollAreaElement.addEventListener(\"scroll\", this._onScroll);\n    window.addEventListener(\"resize\", this.update);\n\n    this.update();\n  }\n  /**\n   * Releases the instnace and events.\n   * @ko 인스턴스와 이벤트를 해제한다.\n   */\n  public destroy() {\n    this._axes?.destroy();\n    this.unsubscribe();\n    this._scrollAreaElement?.removeEventListener(\"scroll\", this._onScroll);\n\n    if (typeof window !== \"undefined\") {\n      window.removeEventListener(\"resize\", this.update);\n    }\n    this.off();\n    this._axes = null;\n  }\n  private _refreshScroll() {\n    const horizontal = this._options.horizontal;\n    const scrollAreaElement = this._scrollAreaElement;\n\n    this._pos = Math.min(\n      this._scrollSize - this._size,\n      horizontal ? scrollAreaElement.scrollLeft : scrollAreaElement.scrollTop,\n    );\n  }\n  private _getItem(element: HTMLElement): ConveyerItem {\n    const horizontal = this._options.horizontal;\n\n    return {\n      element,\n      pos: horizontal ? element.offsetLeft : element.offsetTop,\n      size: horizontal ? element.offsetWidth : element.offsetHeight,\n    };\n  }\n  private _getNativeEvent(e: OnHold | OnChange) {\n    return e?.inputEvent?.srcEvent ? e.inputEvent?.srcEvent : e?.inputEvent;\n  }\n  private _getNextScrollPos(item: ConveyerItem, options: ScrollIntoViewOptions) {\n    const size = this._size;\n    const align = options.align || \"start\";\n    const padding = options.offset || 0;\n    const itemPos = item!.pos;\n    const itemSize = item!.size;\n    let scrollPos = 0;\n\n    if (align === \"start\") {\n      scrollPos = itemPos - padding;\n    } else if (align === \"end\") {\n      scrollPos = itemPos + itemSize - size + padding;\n    } else if (align === \"center\") {\n      scrollPos = itemPos + itemSize / 2 - size / 2 + padding;\n    }\n    return scrollPos;\n  }\n  private _isMixedWheel(nativeEvent: any) {\n    return !!nativeEvent && nativeEvent?.type === \"wheel\" && nativeEvent?.deltaX && nativeEvent?.deltaY;\n  }\n  private _checkNestedMove(nativeEvent: any) {\n    if (this.isReachStart || this.isReachEnd) {\n      nativeEvent.__childrenAxesAlreadyChanged = false;\n    }\n  }\n  private _onScroll = (e?: any) => {\n    if (e) {\n      this._debounceScroll();\n    }\n    this._refreshScroll();\n\n    const size = this._size;\n    const scrollSize = this._scrollSize;\n    const pos = this._pos;\n\n    // enter start\n    if (pos <= 0 && this.isReachStart !== true) {\n      this._isReachStart = true;\n      /**\n       * This event is fired when scroll reach start.\n       * @ko 스크롤이 앞에 닿으면 발생하는 이벤트이다.\n       * @event Conveyer#reachStart\n       */\n      this.trigger(\"reachStart\");\n    } else if (pos > 0 && this.isReachStart !== false) {\n      this._isReachStart = false;\n      /**\n       * This event is fired when scroll leave start.\n       * @ko 스크롤이 앞에서 떠나면 발생하는 이벤트이다.\n       * @event Conveyer#leaveStart\n       */\n      this.trigger(\"leaveStart\");\n    }\n    // enter end\n    if (scrollSize - size - pos < 1 && this.isReachEnd !== true) {\n      this._isReachEnd = true;\n      /**\n       * This event is fired when scroll reach end.\n       * @ko 스크롤이 끝에 닿으면 발생하는 이벤트이다.\n       * @event Conveyer#reachEnd\n       */\n      this.trigger(\"reachEnd\");\n    } else if (!(scrollSize - size - pos < 1) && this.isReachEnd !== false) {\n      this._isReachEnd = false;\n      /**\n       * This event is fired when scroll leave end.\n       * @ko 스크롤이 끝에서 떠나면 발생하는 이벤트이다.\n       * @event Conveyer#leaveEnd\n       */\n      this.trigger(\"leaveEnd\");\n    }\n  }\n  private _onPreventClick = (e: Event) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this._enableClick();\n  }\n  private _enableClick() {\n    window.removeEventListener(\"click\", this._onPreventClick, true);\n  }\n  private _disableClick() {\n    window.addEventListener(\"click\", this._onPreventClick, true);\n  }\n  private _debounceScroll() {\n    if (!this._scrollTimer) {\n      /**\n       * This event is fired when begin scroll.\n       * @ko 스크롤이 시작하면 발생하는 이벤트이다.\n       * @event Conveyer#beginScroll\n       */\n      this.trigger(\"beginScroll\");\n    }\n    window.clearTimeout(this._scrollTimer);\n    this._scrollTimer = window.setTimeout(() => {\n      this._scrollTimer = 0;\n      /**\n       * This event is fired when finish scroll.\n       * @ko 스크롤이 끝나면 발생하는 이벤트이다.\n       * @event Conveyer#finishScroll\n       * @param {OnFinishScroll} e - The object of data to be sent to an event <ko>이벤트에 전달되는 데이터 객체</ko>\n       */\n      this.trigger(\"finishScroll\", {\n        isDragScroll: this._isDragScroll,\n        isTrusted: this._isDragScroll || !this._isAnimation,\n      });\n\n      this._isDragScroll = false;\n      this._isAnimation = false;\n    }, this._options.scrollDebounce);\n  }\n}\n\n\ninterface Conveyer extends ConveyerReactiveState, ReactiveSubscribe<ConveyerReactiveState> { }\n\nexport default Conveyer;\n", "/**\n * egjs-conveyer\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nexport const CONVEYER_METHODS = [\n  \"update\",\n  \"findElement\",\n  \"findItem\",\n  \"scrollBy\",\n  \"scrollTo\",\n  \"scrollIntoView\",\n  \"setItems\",\n  \"updateContainer\",\n  \"updateItems\",\n  \"init\",\n] as const;\n\nexport const CONVEYER_EVENTS = [\n  \"reachStart\",\n  \"reachEnd\",\n  \"leaveStart\",\n  \"leaveEnd\",\n  \"beginScroll\",\n  \"finishScroll\",\n] as const;\n\n", "/**\n * egjs-conveyer\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nimport Conveyer from \"./Conveyer\";\nimport { CONVEYER_EVENTS, CONVEYER_METHODS } from \"./consts\";\nimport { ReactiveAdapter, Ref } from \"@cfcs/core\";\nimport { ConveyerEvents, ConveyerMethods, ConveyerOptions, ConveyerReactiveState } from \"./types\";\n\n\nexport interface ConveyerData {\n  container: Ref<HTMLElement>;\n  props: ConveyerOptions;\n}\n\nexport const REACTIVE_CONVEYER: ReactiveAdapter<\n  Conveyer,\n  ConveyerReactiveState,\n  keyof ConveyerMethods,\n  ConveyerData,\n  ConveyerEvents\n> = {\n  methods: CONVEYER_METHODS,\n  events: CONVEYER_EVENTS,\n  created(data) {\n    return new Conveyer(data.container, { ...data.props, autoInit: false });\n  },\n  init(instance, data) {\n    if (data.props.autoInit !== false) {\n      instance!.init();\n    }\n  },\n  on(instance, name, callback) {\n    instance.on(name, callback);\n  },\n  off(instance, name, callback) {\n    instance.off(name, callback);\n  },\n  destroy(instance) {\n    instance.destroy();\n  },\n};\n", "/**\n * egjs-conveyer\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nimport Conveyer from \"./Conveyer\";\n\nexport default Conveyer;\n\nexport * from \"./consts\";\nexport * from \"./types\";\nexport * from \"./reactive\";\n"],
  "mappings": "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",
  "names": ["some", "arr", "callback", "length", "i", "find", "getUserAgentString", "agent", "userAgent", "navigator", "toLowerCase", "execRegExp", "pattern", "text", "RegExp", "exec", "e", "hasUserAgentData", "userAgentData", "brands", "uaList", "findVersion", "versionTest", "result", "convertVersion", "replace", "findPreset", "presets", "userPreset", "version", "preset", "test", "brand", "versionAlias", "findPresetBrand", "brandInfo", "findBrand", "id", "_a", "BROWSER_PRESETS", "CHROMIUM_PRESETS", "WEBKIT_PRESETS", "WEBVIEW_PRESETS", "OS_PRESETS", "isWebView", "getLegacyAgent", "nextAgent", "isMobile", "browser", "name", "majorVersion", "webview", "chromium", "chromiumVersion", "webkit", "webkitVersion", "os", "browserPreset", "browserVersion", "_b", "osPreset", "osVersion", "chromiumPreset", "webkitPreset", "parseInt", "isHints", "getClientHintsAgent", "osData", "fullVersionList", "mobile", "firstBrand", "platform", "chromiumBrand", "webkitBrand", "platfomResult", "platformVersion", "browserBrandByFullVersionList", "browserBrand", "uaFullVersion", "agent", "userAgent", "hasUserAgentData", "getClientHintsAgent", "getLegacyAgent", "keys", "obj", "Object", "OBSERVERS_PATH", "Observer", "value", "_emitter", "Component", "_current", "Object", "defineProperty", "get", "set", "isUpdate", "trigger", "subscribe", "callback", "on", "unsubscribe", "off", "observe", "defaultValue", "Observer", "getObservers", "instance", "OBSERVERS_PATH", "getObserver", "name", "observers", "injectReactiveSubscribe", "object", "name", "callback", "getObserver", "subscribe", "_this", "keys", "getObservers", "forEach", "observerName", "unsubscribe", "ReactiveSubscribe", "Constructor", "prototype", "win", "window", "navigator", "userAgent", "DIRECTION_NONE", "DIRECTION_LEFT", "DIRECTION_RIGHT", "DIRECTION_HORIZONTAL", "DIRECTION_UP", "DIRECTION_DOWN", "DIRECTION_VERTICAL", "DIRECTION_ALL", "MOUSE_LEFT", "MOUSE_RIGHT", "MOUSE_MIDDLE", "ANY", "NONE", "SHIFT", "CTRL", "ALT", "META", "VELOCITY_INTERVAL", "IOS_EDGE_THRESHOLD", "IS_IOS_SAFARI", "window", "getAgent", "browser", "name", "TRANSFORM", "document", "bodyStyle", "head", "getElementsByTagName", "style", "target", "i", "len", "length", "PREVENT_DRAG_CSSPROPS", "toArray", "nodes", "el", "push", "$", "param", "multi", "match", "dummy", "createElement", "innerHTML", "childNodes", "querySelectorAll", "undefined", "value", "current", "nodeName", "nodeType", "jQuery", "constructor", "prototype", "jquery", "get", "Array", "isArray", "map", "v", "raf", "requestAnimationFrame", "webkitRequestAnimationFrame", "caf", "cancelAnimationFrame", "webkitCancelAnimationFrame", "keyInfo_1", "oldraf_1", "callback", "wrapCallback", "timestamp", "key", "setTimeout", "performance", "now", "Date", "getTime", "clearTimeout", "fp", "obj", "tranformed", "k", "filter", "filtered", "every", "equal", "base", "roundNumFunc", "roundNumber", "num", "roundUnit", "getRoundFunc", "roundNumbers", "getDecimalPlace", "val", "isFinite", "indexOf", "p", "e", "Math", "round", "inversePow", "n", "pow", "getAngle", "posX", "posY", "atan2", "PI", "isCssPropsFromAxes", "originalCssProps", "same", "Object", "keys", "forEach", "prop", "getDirection", "useHorizontal", "useVertical", "DIRECTION_ALL", "DIRECTION_HORIZONTAL", "DIRECTION_VERTICAL", "DIRECTION_NONE", "useDirection", "checkType", "direction", "userDirection", "setCssProps", "element", "option", "touchActionMap", "_a", "oldCssProps", "touchAction", "newCssProps_1", "revertCssProps", "EventManager", "_axes", "pos", "roundPos", "_getRoundPos", "trigger", "ComponentEvent", "input", "inputEvent", "event", "isTrusted", "destPos", "depaPos", "roundDepa", "setTo", "_createUserControll", "duration", "__assign", "bounceRatio", "_getBounceRatio", "holding", "animationManager", "axisManager", "eventInfo", "getEventInfo", "moveTo", "delta", "set", "axis", "getObserver", "_this", "isCanceled", "off", "userControl", "toPos", "userDuration", "options", "opt", "range", "bounce", "InterruptManager", "_options", "interruptable", "_prevented", "prevented", "getInsidePosition", "circular", "toDestPos", "targetRange", "max", "min", "isOutside", "isEndofBounce", "getDuration", "distance", "deceleration", "sqrt", "isCircularable", "getCirculatedPos", "AxisManager", "_axis", "_complementOptions", "_pos", "reduce", "startPos", "fullDepaPos", "axes", "acc", "axisOptions", "Error", "axisOption", "test", "SUPPORT_TOUCH", "SUPPORT_POINTER", "SUPPORT_MSPOINTER", "SUPPORT_POINTER_EVENTS", "isValidKey", "inputKey", "ANY", "NONE", "shiftKey", "ctrlKey", "altKey", "metaKey", "SHIFT", "CTRL", "ALT", "META", "EventInput", "preventDefault", "removeEventListener", "_stopContextMenu", "prevEvent", "center", "_getCenter", "movement", "_getMovement", "x", "y", "scale", "_getScale", "angle", "deltaX", "deltaY", "offsetX", "offsetY", "latestInterval", "_latestInterval", "timeStamp", "deltaTime", "velocityX", "velocityY", "VELOCITY_INTERVAL", "srcEvent", "preventSystemEvent", "start", "end", "clientX", "clientY", "buttonCodeMap", "MOUSE_LEFT", "MOUSE_RIGHT", "MOUSE_MIDDLE", "button", "_isTouchEvent", "buttons", "type", "inputButton", "_isValidButton", "_getButton", "addEventListener", "__extends", "MouseEventInput", "_isValidEvent", "_preventMouseButton", "extendEvent", "which", "prev", "TouchEventInput", "_baseTouches", "touches", "_getDistance", "identifier", "PointerEventInput", "_updatePointerEvent", "_removePointerEvent", "_firstInputs", "_recentInputs", "pointerId", "addFlag", "TouchMouseEventInput", "id", "nextSpot", "prevSpot", "toAxis", "source", "offset", "convertInputType", "inputType", "hasTouch", "hasMouse", "hasPointer", "getAddEventOptions", "eventName", "passive", "InputObserver", "interruptManager", "eventManager", "_interruptManager", "_eventManager", "_axisManager", "_animationManager", "isInterrupted", "changeOption", "_isStopped", "setInterrupt", "stopAnimation", "_moveDistance", "hold", "_isOutside", "useAnimation", "isInterrupting", "nativeEvent", "__childrenAxesAlreadyChanged", "_atOutside", "nested", "_isEndofAxis", "animateTo", "triggerChange", "finish", "velocity", "inputDuration", "__childrenAxesAlreadyReleased", "displacement", "getDisplacement", "getDelta", "triggerRelease", "userWish", "getUserControl", "isEqual", "restore", "triggerFinish", "tn", "tx", "out", "interpolate", "clamp", "AnimationManager", "animationEnd", "bind", "wishDuration", "durations_1", "abs", "minimumDuration", "maximumDuration", "totalVelocity", "total", "_animateParam", "orgPos_1", "_raf", "triggerAnimationEnd", "beforeParam", "circularTargets", "_createAnimationParam", "retTrigger", "triggerAnimationStart", "console", "warn", "_animateLoop", "orgPos", "movedPos", "done", "complete", "startTime", "originalIntendedPos_1", "state_1", "_initState", "loop_1", "animateParam", "nextState", "_getNextState", "finished", "_getFinalPos", "originalIntendedPos", "ERROR_LIMIT", "finalPos", "_getRoundUnit", "result", "minRoundUnit", "getAxisOptions", "EasingManager", "threshold", "initSlope", "_easing", "diffTime", "restart", "currentPos", "_initialEasingPer", "_prevEasingPer", "ratio", "_durationOffset", "info", "easingPer", "prevState", "prevPos", "directions", "nextPos", "circulatedPos", "rangeOffset", "easing", "Axes", "_super", "Infinity", "inputObserver", "setAnimationManager", "mapped", "split", "concat", "_inputs", "disconnect", "mapAxes", "connect", "index", "splice", "setBy", "setAxis", "updateAnimation", "destroy", "DIRECTION_LEFT", "DIRECTION_RIGHT", "DIRECTION_UP", "DIRECTION_DOWN", "ReactiveSubscribe", "Component", "getDirectionByAngle", "thresholdAngle", "toAngle", "PanInput", "_dragged", "stopPropagation", "preventClickOnDrag", "iOSEdgeSwipeThreshold", "releaseOnScroll", "_onPanstart", "_onPanmove", "_onPanend", "_direction", "observer", "_activeEvent", "_detachElementEvent", "_detachWindowEvent", "_attachElementEvent", "_originalCssProps", "_enabled", "activeEvent", "onRelease", "_observer", "release", "panEvent", "onEventStart", "getTouches", "cancelable", "edgeThreshold", "_isOverThreshold", "_atRightEdge", "innerWidth", "_attachWindowEvent", "onEventMove", "swipeLeftToRight", "_rightEdgeTimer", "swipeRightToLeft", "_getOffset", "prevent", "some", "change", "onEventEnd", "move", "properties", "Number", "_preventClickWhenDragged", "_voidFunction", "RotatePanInput", "isEnabled", "rect", "getBoundingClientRect", "_coefficientForDistanceToAngle", "width", "_rotateOrigin", "left", "top", "height", "_prevAngle", "_triggerChange", "vx", "vy", "_lastDiff", "_getPosFromOrigin", "positiveAngle", "quadrant", "_getQuadrant", "diff", "_getDifference", "_prevQuadrant", "prevAngle", "prevQuadrant", "q", "PinchInput", "_onPinchStart", "_onPinchMove", "_onPinchEnd", "_detachEvent", "_attachEvent", "pinchEvent", "_baseValue", "_pinchFlag", "pinchScale", "WheelInput", "releaseDelay", "useNormalized", "_onWheel", "_holding", "_timer", "KEY_LEFT_ARROW", "KEY_A", "KEY_UP_ARROW", "KEY_W", "KEY_RIGHT_ARROW", "KEY_D", "KEY_DOWN_ARROW", "KEY_S", "DIRECTION_REVERSE", "DIRECTION_FORWARD", "DELAY", "MoveKeyInput", "_onKeydown", "_onKeyup", "getAttribute", "setAttribute", "isMoveKey", "keyCode", "offsets", "IS_IE", "test", "window", "navigator", "userAgent", "toLowerCase", "isString", "val", "__extends", "Conveyer", "scrollArea", "options", "_super", "_this", "updateItems", "updateContainer", "e", "_debounceScroll", "_refreshScroll", "size", "_size", "scrollSize", "_scrollSize", "pos", "_pos", "isReachStart", "_isReachStart", "trigger", "isReachEnd", "_isReachEnd", "stopPropagation", "preventDefault", "_enableClick", "_options", "__assign", "horizontal", "useDrag", "useSideWheel", "autoInit", "scrollDebounce", "_scrollArea", "init", "direction", "_a", "findItem", "element", "target", "hitTest", "items", "_items", "length", "endPos", "sibling", "startVirtualItem", "endVirtualItem", "unshift", "push", "selectedItem", "selectedItems", "__spreadArray", "reverse", "filter", "item", "itemSize", "dist", "dist2", "Math", "abs", "_getItem", "selectedIndex", "indexOf", "duration", "nextScrollPos", "_getNextScrollPos", "excludeStand", "scrollBy", "_axes", "setBy", "scroll", "scrollAreaElement", "_scrollAreaElement", "itemSelector", "itemElements", "slice", "call", "querySelectorAll", "children", "setItems", "map", "el", "clientWidth", "clientHeight", "scrollWidth", "scrollHeight", "style", "getComputedStyle", "boxSizing", "borderSize", "parseFloat", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth", "cssSize", "width", "height", "contentSize", "_onScroll", "document", "querySelector", "Element", "value", "current", "isDrag", "axes", "Axes", "range", "Infinity", "deceleration", "round", "nested", "isHold", "on", "nativeEvent", "_getNativeEvent", "preventClickOnDrag", "_disableClick", "_isMixedWheel", "_isDragScroll", "type", "_isAnimation", "delta", "scrollLeft", "scrollTop", "_checkNestedMove", "setTo", "depaPos", "connect", "PanInput", "inputType", "touchAction", "WheelInput", "useNormalized", "addEventListener", "update", "destroy", "unsubscribe", "_b", "removeEventListener", "off", "min", "offsetLeft", "offsetTop", "offsetWidth", "offsetHeight", "inputEvent", "srcEvent", "align", "padding", "offset", "itemPos", "scrollPos", "deltaX", "deltaY", "__childrenAxesAlreadyChanged", "_onPreventClick", "_scrollTimer", "clearTimeout", "setTimeout", "isDragScroll", "isTrusted", "__decorate", "Reactive", "ReactiveSubscribe", "Component", "CONVEYER_METHODS", "CONVEYER_EVENTS", "REACTIVE_CONVEYER", "methods", "events", "created", "data", "container", "props", "instance", "name", "callback"]
}
